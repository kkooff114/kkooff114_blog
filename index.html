<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>kkooff144`blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="kkooff144`blog">
<meta property="og:url" content="http://blog.loujiwei.cn/index.html">
<meta property="og:site_name" content="kkooff144`blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="kkooff144`blog">
  
    <link rel="alternate" href="/atom.xml" title="kkooff144`blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">kkooff144`blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.loujiwei.cn"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-杂记/2016-11-07-blog架构换型" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/07/杂记/2016-11-07-blog架构换型/" class="article-date">
  <time datetime="2016-11-07T01:36:38.000Z" itemprop="datePublished">2016-11-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/07/杂记/2016-11-07-blog架构换型/">blog架构换型</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<blockquote>
<p>之前的blog用的是jekyll, 用的是自己画的ui, 虽然美观度挺满意的, 但是因为后期一直没有时间去优化, 看文章的效果一直不好, 所以现在直接采用第三方的blog框架Hexo来重新搭建自己的blog平台.</p>
</blockquote>
<p>##安装<br>可直接参考<a href="https://hexo.io/zh-cn/docs/index.html" target="_blank" rel="external">官方的文档</a>即可.</p>
<p>##命令<br>启动服务:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo s</div></pre></td></tr></table></figure>
<p>部署:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo d</div></pre></td></tr></table></figure>
<p>##问题</p>
<ul>
<li>YAMLException: can not read a block mapping entry; a multiline key may not be implicit key at line 13, column 1</li>
</ul>
<p>解决:<br>编辑_config.yml文件，每个配置项后面必须有一个空格.</p>
<ul>
<li>ERROR Deployer not found : github</li>
</ul>
<p>解决:<br>deploy的type改成git，然后运行下<code>npm install hexo-deployer-git --save</code><br>再<code>hexo g</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/11/07/杂记/2016-11-07-blog架构换型/" data-id="civ9p6tgw002e24nnzpt44mel" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/博客升级/">博客升级</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/06/hello-world/" class="article-date">
  <time datetime="2016-11-06T15:53:11.000Z" itemprop="datePublished">2016-11-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/06/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/11/06/hello-world/" data-id="civ9p6tdc000124nnhfmvvob6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android/2016-11-06-Android与Java的一些方法的不同" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/06/Android/2016-11-06-Android与Java的一些方法的不同/" class="article-date">
  <time datetime="2016-11-06T13:56:47.000Z" itemprop="datePublished">2016-11-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/06/Android/2016-11-06-Android与Java的一些方法的不同/">Android与Java的一些方法的不同</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Base64"><a href="#Base64" class="headerlink" title="Base64"></a>Base64</h2><p>Android自身带有Base64加密与解密的包，可以方便地加密密码方便传输。要注意decode的时候第二个参数<code>flag</code>的选值, 当使用<code>NO_WRAP</code>的时候, 是与apache的base64效果一致.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">String base64Token = Base64.encodeToString(token.trim().getBytes(), Base64.NO_WRAP);</div><div class="line"><span class="keyword">byte</span>[] mmmm = Base64.decode(base64Token,Base64.DEFAULT);</div></pre></td></tr></table></figure>
<pre><code>1.    CRLF 这个参数看起来比较眼熟，它就是Win风格的换行符，意思就是使用CR LF这一对作为一行的结尾而不是Unix风格的LF  

2.    DEFAULT 这个参数是默认，使用默认的方法来加密  

3.    NO_PADDING 这个参数是略去加密字符串最后的”=”  

4.    NO_WRAP 这个参数意思是略去所有的换行符（设置后CRLF就没用了）  

5.    URL_SAFE 这个参数意思是加密时不使用对URL和文件名有特殊意义的字符来作为加密字符，具体就是以-和_取代+和/  
</code></pre><h2 id="RSA加解密"><a href="#RSA加解密" class="headerlink" title="RSA加解密"></a>RSA加解密</h2><p>Android使用私钥加密后, Java服务器解密报错, 因为Android与Java使用了不同的RSA标准, 修改Android加密的代码如下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">    * 用私钥解密</div><div class="line">    *</div><div class="line">    * <span class="doctag">@param</span> encryptedData 经过encryptedData()加密返回的byte数据</div><div class="line">    * <span class="doctag">@param</span> privateKey    私钥</div><div class="line">    * <span class="doctag">@return</span></div><div class="line">    */</div><div class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] encryptData(<span class="keyword">byte</span>[] encryptedData, String privateKey) &#123;</div><div class="line">       <span class="keyword">try</span> &#123;</div><div class="line">           <span class="keyword">byte</span>[] keyBytes = Base64Utils.decode(privateKey);</div><div class="line">           PKCS8EncodedKeySpec pkcs8KeySpec = <span class="keyword">new</span> PKCS8EncodedKeySpec(keyBytes);</div><div class="line">           KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);</div><div class="line">           PrivateKey privateK = keyFactory.generatePrivate(pkcs8KeySpec);</div><div class="line"></div><div class="line">           Cipher cipher = Cipher.getInstance(<span class="string">"RSA/ECB/PKCS1Padding"</span>);</div><div class="line">           cipher.init(Cipher.ENCRYPT_MODE, privateK);</div><div class="line">           <span class="keyword">return</span> cipher.doFinal(encryptedData);</div><div class="line">       &#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">           <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p>java:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Cipher cipher = Cipher.getInstance(<span class="string">"RSA/ECB/PKCS1Padding"</span>);</div></pre></td></tr></table></figure>
<p>android :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/NoPadding&quot;);</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/11/06/Android/2016-11-06-Android与Java的一些方法的不同/" data-id="civ9p6tfq001b24nnn38j180i" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android/2016-11-02-2017计划实现的技术点" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/02/Android/2016-11-02-2017计划实现的技术点/" class="article-date">
  <time datetime="2016-11-01T18:14:15.000Z" itemprop="datePublished">2016-11-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/02/Android/2016-11-02-2017计划实现的技术点/">计划技术点规划</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h1><p>计划接下去的时间研究与实现以下技术</p>
<p><img src="/media/14780509501281.jpg" alt=""></p>
<ol>
<li><p><code>中间件缓存</code><br>为了缓解后台SAP服务器的压力以及提高业代每天同步数据的速度, 采用中间件缓存进行数据缓存</p>
</li>
<li><p><code>自动化测试</code><br>随着移动app业务复杂度的增加, 每次改动发布都有可能影响到原有的功能. 进行自动化测试, 编写自动化测试脚本, 单元测试脚本. 在每次发布之前跑一遍, 保证每次发布测试的覆盖率,降低人工测试成本, 确保每次发布的可靠性.</p>
</li>
<li><p><code>版本控制</code><br><code>3.1 动态修复</code><br>动态修复技术解决了App上线后发现bug不能及时修复的烦恼<br><code>3.2 Jenkins持续集成</code><br>Jenkins持续集成可以让开发和测试更敏捷的开发和调试各个版本</p>
</li>
<li><p><code>用户数据采集</code><br><code>4.1 用户行为数据采集(无埋点技术)</code><br>手机记录用户日常操作, 访问页面轨迹, 逗留时间等并提交到后台分析, 也可用于bug重现等用处. 采用无埋点技术可实现动态埋点.<br><code>4.2 用户业务数据采集(补录数据)</code><br>同样采用手机记录的方式记录用户提交的业务数据, 若碰到服务器, 网络, 手机不稳定导致的业务数据提交失败的情况, 可再次追溯历史数据, 通过<code>补录平台</code>补录数据.<br><code>4.3 大数据分析(Hadoop)</code><br>手机每天都会提交大量的数据信息, 将这些零碎信息抽取成报表, 转换成有价值的有指导性的信息. 将采用Hadoop技术.</p>
</li>
<li><p><code>数据安全</code><br><code>5.1 HTTP数据传输层动态密钥技术</code><br>HTTP数据传输用动态秘钥加密技术，可以保证App数据通讯不被拦截或破解<br><code>5.2 本地存储安全</code><br>实现App本地数据的安全</p>
</li>
</ol>
<p>#1. 中间件缓存<br>&gt;</p>
<p>#3. 版本控制</p>
<p>##3.1 动态修复</p>
<p>####业务价值:<br>新版本发布之后, 如果发现紧急的bug需要修复, 采用动态修复技术(打补丁的方式), 可以无需发布新版本来修复bug, 动态修复技术具有及时性, 用户无感知性, 进而将bug的影响降到最低.</p>
<p>#4. 用户数据采集</p>
<p>##4.1 用户行为数据采集(无埋点技术)</p>
<p>####业务价值:<br>统计业代每天日常操作, 可按不同条件(大区, 业代等)出各类报表, 比如每个手机模块使用情况, 某个季度某个sku的卖出情况, 某个促销活动的效果等, 可以更灵活准确的探究出大数据后潜在的商业价值.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/11/02/Android/2016-11-02-2017计划实现的技术点/" data-id="civ9p6tfk001524nnh2dtk3gv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-杂记/2016-10-13-简历(Android模板)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/13/杂记/2016-10-13-简历(Android模板)/" class="article-date">
  <time datetime="2016-10-13T14:58:39.000Z" itemprop="datePublished">2016-10-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/13/杂记/2016-10-13-简历(Android模板)/">Android程序员简历模板</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Android程序员简历模板"><a href="#Android程序员简历模板" class="headerlink" title="Android程序员简历模板"></a>Android程序员简历模板</h1><p>本简历模板由国内首家互联网人才拍卖网站「 <a href="http://www.jobdeer.com" target="_blank" rel="external">JobDeer.com</a> 」提供。</p>
<p>（括号里的是我们的顾问编写的说明，建议在简历书写完成后统一删除）</p>
<h2 id="先讲讲怎样才是一份好的技术简历"><a href="#先讲讲怎样才是一份好的技术简历" class="headerlink" title="先讲讲怎样才是一份好的技术简历"></a>先讲讲怎样才是一份好的技术简历</h2><p>首先，一份好的简历不光说明事实，更通过FAB模式来增强其说服力。</p>
<ul>
<li>Feature：是什么</li>
<li>Advantage：比别人好在哪些地方</li>
<li>Benefit：如果雇佣你，招聘方会得到什么好处 </li>
</ul>
<p>其次，写简历和写议论文不同，过分的论证会显得自夸，反而容易引起反感，所以要点到为止。这里的技巧是，提供论据，把论点留给阅读简历的人自己去得出。放论据要具体，最基本的是要数字化，好的论据要让人印象深刻。</p>
<p>举个例子，下边内容是虚构的：</p>
<p>2006年，我参与了手机XX网发布系统WAPCMS的开发（<code>这部分是大家都会写的</code>）。作为核心程序员，我不但完成了网站界面、调度队列的开发工作，更提出了高效的组件级缓存系统，通过碎片化缓冲有效的提升了系统的渲染效率。（<code>这部分是很多同学忘掉的，要写出你在这个项目中具体负责的部分，以及你贡献出来的价值。</code>）在该系统上线后，Web前端性能从10QPS提升到200QPS，服务器由10台减少到3台（<code>通过量化的数字来增强可信度</code>）。2008年我升任WAPCMS项目负责人，带领一个3人小组支持着每天超过2亿的PV（<code>这就是Benefit。你能带给前雇主的价值，也就是你能带给新雇主的价值。</code>）。</p>
<p>有同学问，如果我在项目里边没有那么显赫的成绩可以说怎么办？讲不出成绩时，就讲你的成长。因为学习能力也是每家公司都看中的东西。你可以写你在这个项目里边遇到了一个什么样的问题，别人怎么解决的，你怎么解决的，你的方案好在什么地方，最终这个方案的效果如何。</p>
<p>具体、量化、有说服力，是技术简历特别需要注重的地方。</p>
<p>（以上内容在写完简历后，对每一段进行评估，完成后再删除）</p>
<hr>
<h1 id="联系方式"><a href="#联系方式" class="headerlink" title="联系方式"></a>联系方式</h1><p>（HR会打印你的简历，用于在面试的时候联系，所以联系方式放到最上边会比较方便）</p>
<ul>
<li>手机：135<strong><em>**</em></strong> （<code>如果是外地手机，可注明。如经常关机，要写上最优联系时间</code>）</li>
<li>Email：goodman@gmail.com （<code>虽然我觉得QQ邮箱无所谓，不过有些技术人员比较反感，建议用G</code>）</li>
<li>QQ/微信号：6<strong><em>*</em></strong>（<code>提供一个通过网络可以联系到你的方式</code>）</li>
</ul>
<hr>
<h1 id="个人信息"><a href="#个人信息" class="headerlink" title="个人信息"></a>个人信息</h1><ul>
<li>胶布帝/男/1990 </li>
<li>本科/萌鹿大学计算机系 </li>
<li>工作年限：3年</li>
<li>微博：<a href="http://weibo.com/jobdeer" target="_blank" rel="external">@JobDeer</a> （<code>如果没有技术相关内容，也可以不放</code>）</li>
<li>技术博客：<a href="http://blog.github.io" target="_blank" rel="external">http://blog.github.io</a> ( <code>使用GitHub Host的Big较高</code>  )</li>
<li><p>GitHub：<a href="http://github.com/geekcompany" target="_blank" rel="external">http://github.com/geekcompany</a> ( <code>有原创repo的GitHub帐号会极大的提升你的个人品牌</code>  )</p>
</li>
<li><p>期望职位：Android高级程序员，应用架构师</p>
</li>
<li>期望薪资：税前月薪15k~20k，特别喜欢的公司可例外</li>
<li>期望城市：北京</li>
</ul>
<hr>
<h1 id="工作经历"><a href="#工作经历" class="headerlink" title="工作经历"></a>工作经历</h1><p>（工作经历按逆序排列，最新的在最前边，按公司做一级分组，公司内按二级分组）</p>
<h2 id="ABC公司-（-2012年9月-2014年9月-）"><a href="#ABC公司-（-2012年9月-2014年9月-）" class="headerlink" title="ABC公司 （ 2012年9月 ~ 2014年9月 ）"></a>ABC公司 （ 2012年9月 ~ 2014年9月 ）</h2><h3 id="DEF项目"><a href="#DEF项目" class="headerlink" title="DEF项目"></a>DEF项目</h3><p>我在此项目负责了哪些工作，分别在哪些地方做得出色/和别人不一样/成长快，这个项目中，我最困难的问题是什么，我采取了什么措施，最后结果如何。这个项目中，我最自豪的技术细节是什么，为什么，实施前和实施后的数据对比如何，同事和领导对此的反应如何。</p>
<h3 id="GHI项目"><a href="#GHI项目" class="headerlink" title="GHI项目"></a>GHI项目</h3><p>我在此项目负责了哪些工作，分别在哪些地方做得出色/和别人不一样/成长快，这个项目中，我最困难的问题是什么，我采取了什么措施，最后结果如何。这个项目中，我最自豪的技术细节是什么，为什么，实施前和实施后的数据对比如何，同事和领导对此的反应如何。</p>
<h3 id="其他项目"><a href="#其他项目" class="headerlink" title="其他项目"></a>其他项目</h3><p>（每个公司写2~3个核心项目就好了，如果你有非常大量的项目，那么按分类进行合并，每一类选一个典型写出来。其他的一笔带过即可。）</p>
<h2 id="JKL公司-（-2010年3月-2012年8月-）"><a href="#JKL公司-（-2010年3月-2012年8月-）" class="headerlink" title="JKL公司 （ 2010年3月 ~ 2012年8月 ）"></a>JKL公司 （ 2010年3月 ~ 2012年8月 ）</h2><h3 id="MNO项目"><a href="#MNO项目" class="headerlink" title="MNO项目"></a>MNO项目</h3><p>我在此项目负责了哪些工作，分别在哪些地方做得出色/和别人不一样/成长快，这个项目中，我最困难的问题是什么，我采取了什么措施，最后结果如何。这个项目中，我最自豪的技术细节是什么，为什么，实施前和实施后的数据对比如何，同事和领导对此的反应如何。</p>
<h3 id="PQR项目"><a href="#PQR项目" class="headerlink" title="PQR项目"></a>PQR项目</h3><p>我在此项目负责了哪些工作，分别在哪些地方做得出色/和别人不一样/成长快，这个项目中，我最困难的问题是什么，我采取了什么措施，最后结果如何。这个项目中，我最自豪的技术细节是什么，为什么，实施前和实施后的数据对比如何，同事和领导对此的反应如何。</p>
<h3 id="其他项目-1"><a href="#其他项目-1" class="headerlink" title="其他项目"></a>其他项目</h3><p>（每个公司写2~3个核心项目就好了，如果你有非常大量的项目，那么按分类进行合并，每一类选一个典型写出来。其他的一笔带过即可。）</p>
<hr>
<h1 id="开源项目和作品"><a href="#开源项目和作品" class="headerlink" title="开源项目和作品"></a>开源项目和作品</h1><p>（这一段用于放置工作以外的、可证明你的能力的材料）</p>
<h2 id="开源项目"><a href="#开源项目" class="headerlink" title="开源项目"></a>开源项目</h2><p>（对于程序员来讲，没有什么比Show me the code能有说服力了）</p>
<ul>
<li><a href="http://github.com/yourname/projectname" target="_blank" rel="external">STU</a>：项目的简要说明，Star和Fork数多的可以注明</li>
<li><a href="http://github.com/yourname/projectname" target="_blank" rel="external">WXYZ</a>：项目的简要说明，Star和Fork数多的可以注明</li>
</ul>
<h2 id="技术文章"><a href="#技术文章" class="headerlink" title="技术文章"></a>技术文章</h2><p>（挑选你写作或翻译的技术文章，好的文章可以从侧面证实你的表达和沟通能力，也帮助招聘方更了解你）</p>
<ul>
<li><a href="http://get.jobdeer.com/706.get" target="_blank" rel="external">一个产品经理眼中的云计算：前生今世和未来</a></li>
<li><a href="http://get.jobdeer.com/343.get" target="_blank" rel="external">来自HeroKu的HTTP API 设计指南(翻译文章)</a> （ <code>好的翻译文章可以侧证你对英文技术文档的阅读能力</code>）</li>
</ul>
<h2 id="演讲和讲义"><a href="#演讲和讲义" class="headerlink" title="演讲和讲义"></a>演讲和讲义</h2><p>（放置你代表公司在一些技术会议上做过的演讲，以及你在公司分享时制作的讲义）</p>
<ul>
<li>2014架构师大会演讲：<a href="http://jobdeer.com" target="_blank" rel="external">如何通过Docker优化内部开发</a><ul>
<li>9月公司内部分享：<a href="http://jobdeer.com" target="_blank" rel="external">云计算的前生今世</a></li>
</ul>
</li>
</ul>
<h1 id="技能清单"><a href="#技能清单" class="headerlink" title="技能清单"></a>技能清单</h1><p>（我一般主张将技能清单写入到工作经历里边去。不过很难完整，所以有这么一段也不错）</p>
<p>以下均为我熟练使用的技能</p>
<ul>
<li>Web开发：PHP/Hack/Node</li>
<li>Web框架：ThinkPHP/Yaf/Yii/Lavaral/LazyPHP</li>
<li>前端框架：Bootstrap/AngularJS/EmberJS/HTML5/Cocos2dJS/ionic</li>
<li>前端工具：Bower/Gulp/SaSS/LeSS/PhoneGap</li>
<li>数据库相关：MySQL/PgSQL/PDO/SQLite</li>
<li>版本管理、文档和自动化部署工具：Svn/Git/PHPDoc/Phing/Composer</li>
<li>单元测试：PHPUnit/SimpleTest/Qunit</li>
<li>云和开放平台：SAE/BAE/AWS/微博开放平台/微信应用开发</li>
</ul>
<h2 id="参考技能关键字"><a href="#参考技能关键字" class="headerlink" title="参考技能关键字"></a>参考技能关键字</h2><p>本技能关键字列表是从最近招聘Android的数百份JD中统计出来的，括号中是出现的词频。如果你的简历要投递给有机器（简历分选系统）和不如机器（不懂技术的HR）筛选简历环节的地方，请一定从下边高频关键词中选择5～10个适合你自己的。</p>
<ul>
<li>android(1830)</li>
<li>java(386)</li>
<li>ui(180)</li>
<li>app(178)</li>
<li>http(149)</li>
<li>sdk(135)</li>
<li>tcp(95)</li>
<li>socket(93)</li>
<li>api(60)</li>
<li>xml(48)</li>
<li>framework(48)</li>
<li>eclipse(41)</li>
<li>linux(38)</li>
<li>json(28)</li>
<li>ndk(27)</li>
<li>ios(27)</li>
<li>sqlite(26)</li>
<li>andriod(25) 2%的HR把android给写错了 T_T</li>
<li>html5(25)</li>
<li>web(23)</li>
<li>github(21)</li>
<li>jni(20)</li>
<li>svn(15)</li>
<li>gui(14)</li>
<li>git(13)</li>
<li>wifi(10)</li>
<li>3g(10)</li>
<li>j2me(10)</li>
<li>mysql(10)</li>
<li>oracle(9)</li>
<li>html(9)</li>
<li>sql(8)</li>
<li>tv(8)</li>
<li>mvc(8)</li>
<li>lbs(8)</li>
<li>code review(7)</li>
<li>im(7)</li>
<li>mobile(6)</li>
<li>view(6)</li>
<li>stackoverflow(6)</li>
<li>xmpp(6)</li>
<li>o2o(5)</li>
<li>ue(5)</li>
<li>objective(5)</li>
<li>js(5)</li>
<li>blog(5)</li>
<li>andorid(5)</li>
<li>rom(5)</li>
<li>launcher(5)</li>
<li>restful(5)</li>
<li>webservice(4)</li>
<li>apk(4)</li>
<li>androidsdk(4)</li>
<li>oo(4)</li>
<li>javascript(4)</li>
<li>j2ee(4)</li>
<li>opengl(4)</li>
<li>uml(4)</li>
<li>sms(3)</li>
<li>windows(3)</li>
<li>market(3)</li>
<li>audio(3)</li>
<li>httptps(3)</li>
<li>udp(3)</li>
<li>store(3)</li>
<li>php(3)</li>
<li>unity3d(3)</li>
<li>native(3)</li>
<li>webview(3)</li>
</ul>
<hr>
<h1 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h1><p>感谢您花时间阅读我的简历，期待能有机会和您共事。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/10/13/杂记/2016-10-13-简历(Android模板)/" data-id="civ9p6tgy002g24nnqojtcafu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-杂记/2016-10-13-简历" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/13/杂记/2016-10-13-简历/" class="article-date">
  <time datetime="2016-10-13T14:58:39.000Z" itemprop="datePublished">2016-10-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/13/杂记/2016-10-13-简历/">简历</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="联系方式"><a href="#联系方式" class="headerlink" title="联系方式"></a>联系方式</h1><ul>
<li>手机：18516101245</li>
<li>Email：kkooff114@gmail.com</li>
<li>QQ/微信号：529535062 / loujiwei</li>
</ul>
<hr>
<h1 id="个人信息"><a href="#个人信息" class="headerlink" title="个人信息"></a>个人信息</h1><ul>
<li>娄继伟 / 男 / 1989 </li>
<li>本科 / 齐齐哈尔大学 / 软件工程 </li>
<li>工作年限：4年</li>
<li>技术博客：<a href="http://blog.loujiwei.cn">http://blog.loujiwei.cn</a></li>
<li>GitHub：<a href="http://github.com/kkooff114" target="_blank" rel="external">http://github.com/kkooff114</a></li>
<li>期望职位：Android高级程序员，应用架构师</li>
<li>期望薪资：税前月薪20k~25k，特别喜欢的公司可例外</li>
<li>期望城市：上海, 苏州</li>
</ul>
<hr>
<h1 id="工作经历"><a href="#工作经历" class="headerlink" title="工作经历"></a>工作经历</h1><h2 id="凯捷咨询-中国-有限公司-（-2013年7月-至今-）"><a href="#凯捷咨询-中国-有限公司-（-2013年7月-至今-）" class="headerlink" title="凯捷咨询(中国)有限公司 （ 2013年7月 ~ 至今 ）"></a>凯捷咨询(中国)有限公司 （ 2013年7月 ~ 至今 ）</h2><h3 id="客户-华润怡宝食品饮料有限公司"><a href="#客户-华润怡宝食品饮料有限公司" class="headerlink" title="客户: 华润怡宝食品饮料有限公司"></a>客户: 华润怡宝食品饮料有限公司</h3><h4 id="项目-怡宝CRM主数据一期-二期-三期-四期-2013年11月-至今"><a href="#项目-怡宝CRM主数据一期-二期-三期-四期-2013年11月-至今" class="headerlink" title="项目: 怡宝CRM主数据一期/二期/三期/四期 (2013年11月 ~ 至今)"></a>项目: 怡宝CRM主数据一期/二期/三期/四期 (2013年11月 ~ 至今)</h4><p>我在此项目负责移动端(Android,iOS)设计,开发与运维, 移动中间件的搭建, 移动与后台服务交互接口设计等工作. 目前我们每天业代使用人数有5000多人, 每天提交订单数二十多万张, 提交照片数二十多万张. 移动端方面我们建立了完善的用户行为反馈与行为分析系统, 能够及时发现移动端使用问题. 怡宝在项目实施后市场占有率变成全国第一, 成为消费者触及数增长最快品牌. 本项目也被华润评为最具价值项目.</p>
<h3 id="客户-深圳芯海科技"><a href="#客户-深圳芯海科技" class="headerlink" title="客户: 深圳芯海科技"></a>客户: 深圳芯海科技</h3><h4 id="项目-网上订餐及设备管理-2014年1月-2014年6月"><a href="#项目-网上订餐及设备管理-2014年1月-2014年6月" class="headerlink" title="项目: 网上订餐及设备管理 (2014年1月 ~ 2014年6月)"></a>项目: 网上订餐及设备管理 (2014年1月 ~ 2014年6月)</h4><p>我在此项目负责移动前端网页及微信公众号的设计与开发. 用户通过网页或微信公众号可以点餐, 并到附近自动取餐机上取餐, 公司业务覆盖深圳蛇口各大商场. 项目覆盖了支付宝, 微信支付,卡券管理, 门店管理等主流的功能. 用户反馈良好.</p>
<h3 id="客户-深圳能源集团"><a href="#客户-深圳能源集团" class="headerlink" title="客户: 深圳能源集团"></a>客户: 深圳能源集团</h3><h4 id="项目-MicroStrategy定制开发-2013年10月-2013年11月"><a href="#项目-MicroStrategy定制开发-2013年10月-2013年11月" class="headerlink" title="项目: MicroStrategy定制开发 (2013年10月 ~ 2013年11月)"></a>项目: MicroStrategy定制开发 (2013年10月 ~ 2013年11月)</h4><p>我在此项目负责Android端MicroStrategy定制开发(MicroStrategy是全球最大的BI公司产品, 主要用于企业业务数据在移动端的展示). 参与定制集团移动登陆安全方案, 深度定制MicroStrategy产品, 在源码的基础上集成自定义登陆安全方案. 由于当时MicroStrategy的Android SDK较iOS端比还不完善, 还多API都还用不了, 所以通过一些hack的方式去实现, 达到了理想的预期效果.</p>
<h3 id="客户-深圳华润万家"><a href="#客户-深圳华润万家" class="headerlink" title="客户: 深圳华润万家"></a>客户: 深圳华润万家</h3><h4 id="项目-EPMS-2013年7月-2013年10月"><a href="#项目-EPMS-2013年7月-2013年10月" class="headerlink" title="项目: EPMS (2013年7月 ~ 2013年10月)"></a>项目: EPMS (2013年7月 ~ 2013年10月)</h4><p>我在此项目负责Android端的设计与开发, EPMS是华润万家工程项目管理的平台, 平台维护这上百家万家新开门店的工程管理, 万家员工每天通过移动终端共享工程信息, 沟通问题, 通过照片视频留言等方式提交工程反馈进度. 项目使用SAP的移动中间平台SUP/SMP将Oracle表中的数据抽取转换成对手机展示友好的数据对象, 并在其中集成了增量更新数据, 缓存同步数据等功能.</p>
<h3 id="客户-凯捷咨询"><a href="#客户-凯捷咨询" class="headerlink" title="客户: 凯捷咨询"></a>客户: 凯捷咨询</h3><h4 id="项目-企业通讯录-2013年5月-2013年6月"><a href="#项目-企业通讯录-2013年5月-2013年6月" class="headerlink" title="项目: 企业通讯录 (2013年5月 ~ 2013年6月)"></a>项目: 企业通讯录 (2013年5月 ~ 2013年6月)</h4><p>我在此项目负责iOS, Android, winphone8端的设计与开发, 凯捷内部员工通讯录, 主要实现内部员工部门, 详情展示, 可发邮件, 拨打电话, 传输数据通过DES加密, 主要困难点就是每个平台不同手机的适配工作.</p>
<h3 id="客户-凯捷咨询-1"><a href="#客户-凯捷咨询-1" class="headerlink" title="客户: 凯捷咨询"></a>客户: 凯捷咨询</h3><h4 id="项目-会议室管理系统-2013年3月-2013年4月"><a href="#项目-会议室管理系统-2013年3月-2013年4月" class="headerlink" title="项目: 会议室管理系统 (2013年3月 ~ 2013年4月)"></a>项目: 会议室管理系统 (2013年3月 ~ 2013年4月)</h4><p>我在此项目负责Android端的设计与实现, 移动API的设计, PC端网页的设计与实现. 定制开发了前端日历开源项目(fullcalendar), 数据图表框架(plot).</p>
<h3 id="客户-凯捷咨询-2"><a href="#客户-凯捷咨询-2" class="headerlink" title="客户: 凯捷咨询"></a>客户: 凯捷咨询</h3><h4 id="项目-会议室管理系统-2013年3月-2013年4月-1"><a href="#项目-会议室管理系统-2013年3月-2013年4月-1" class="headerlink" title="项目: 会议室管理系统 (2013年3月 ~ 2013年4月)"></a>项目: 会议室管理系统 (2013年3月 ~ 2013年4月)</h4><p>我在此项目负责Android端的设计与实现, 移动API的设计, PC端网页的设计与实现. 定制开发了前端日历开源项目(fullcalendar), 数据图表框架(plot).</p>
<h2 id="飞利浦照明全球研发中心-（-2012年7月-2012年8月-）"><a href="#飞利浦照明全球研发中心-（-2012年7月-2012年8月-）" class="headerlink" title="飞利浦照明全球研发中心 （ 2012年7月 ~ 2012年8月 ）"></a>飞利浦照明全球研发中心 （ 2012年7月 ~ 2012年8月 ）</h2><h3 id="Actilume-Gen2-System-项目"><a href="#Actilume-Gen2-System-项目" class="headerlink" title="Actilume Gen2 System 项目"></a>Actilume Gen2 System 项目</h3><p>在Actilume Gen2 System项目中担任后期系统测试，完成了项目后期所有的use case的测试工作。ActiLume是一个即插即用控制灯组光源解决方案，通过日光采集和自动切换可实现节能。</p>
<hr>
<h1 id="开源项目和作品"><a href="#开源项目和作品" class="headerlink" title="开源项目和作品"></a>开源项目和作品</h1><h2 id="开源项目"><a href="#开源项目" class="headerlink" title="开源项目"></a>开源项目</h2><ul>
<li><a href="https://github.com/kkooff114/CBLogger2" target="_blank" rel="external">CBLogger2</a>：可自定义记录用户日常操作的行为日志, 及崩溃日志, 可自定义记录格式样式, 可提交后台,配合后台进行用户行为分析与日常操作跟踪</li>
</ul>
<h1 id="技能清单"><a href="#技能清单" class="headerlink" title="技能清单"></a>技能清单</h1><p>以下均为我熟练使用的技能:</p>
<ul>
<li>移动开发: Android/iOS/Java/Objective-C/Swift/React-Native</li>
<li>服务器: J2EE/NodeJs/Spring/Hibernate/Struts</li>
<li>前端框架: React/Bootstrap/Jquery/HTML5</li>
<li>前端工具: Bower/Gulp/webpack/SaSS/LeSS</li>
<li>数据库相关: MySQL/SQLite/Realm/Oracle</li>
<li>版本管理: Svn/Git</li>
<li>单元测试: JUnit/Espresso/Robolectric</li>
<li>云和开放平台：SAE/AWS/微博开放平台/微信应用开发/QQ开放平台</li>
</ul>
<h1 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h1><p>感谢您花时间阅读我的简历，期待能有机会和您共事。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/10/13/杂记/2016-10-13-简历/" data-id="civ9p6tgr002c24nnr87ys4xo" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-服务器/2016-07-11-WRK好用的网络压测工具" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/07/11/服务器/2016-07-11-WRK好用的网络压测工具/" class="article-date">
  <time datetime="2016-07-11T01:45:49.000Z" itemprop="datePublished">2016-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/11/服务器/2016-07-11-WRK好用的网络压测工具/">WRK好用的网络压测工具</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#项目地址</p>
<blockquote>
<p><a href="https://github.com/wg/wrk" target="_blank" rel="external">https://github.com/wg/wrk</a></p>
</blockquote>
<p>#编译<br>项目只支持Unix 类的系统</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git clone https:<span class="comment">//github.com/wg/wrk.git  </span></div><div class="line">cd wrk  </div><div class="line">make</div></pre></td></tr></table></figure>
<p>编译完成后项目目录下面就会出现一个<code>wrk</code>的文件, 这个就是我们想要的了<br>将<code>wrk</code>拷贝到<code>/usr/local/bin/</code>路径下, 就可以直接在终端使用了<br>或使用命令直接建立软连接:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ln -s wrk /usr/local/bin/wrk</div></pre></td></tr></table></figure>
<p>#使用<br>首先直接简单使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wrk -t12 -c100 -d30s http://www.baidu.com</div></pre></td></tr></table></figure>
<p>30s后会得到</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">➜  wrk git:(master) wrk -t12 -c100 -d30s http://www.baidu.com   </div><div class="line">Running 30s test @ http://www.baidu.com</div><div class="line">  12 threads and 100 connections</div><div class="line">  Thread Stats   Avg      Stdev     Max   +/- Stdev</div><div class="line">    Latency   673.16ms  391.50ms   2.00s    74.16%</div><div class="line">    Req/Sec    12.52      7.93    59.00     76.96%</div><div class="line">  3869 requests in 30.10s, 57.24MB read</div><div class="line">  Socket errors: connect 0, read 0, write 0, timeout 117</div><div class="line">Requests/sec:    128.53</div><div class="line">Transfer/sec:      1.90MB</div></pre></td></tr></table></figure>
<p>###参数说明</p>
<p>####请求<br><code>-t12</code> 12个线程<br><code>-c100</code> 100个链接<br><code>-d30s</code> 运行30秒,通过 -d 可以设置测试的持续时间. 一般只要不是太短都是可以的. 看你自己的忍耐程度了. 时间越长样本越准确. 如果想测试系统的持续抗压能力, 采用 loadrunner 这样的专业测试工具会更好一点. </p>
<p>####返回<br><code>Latency</code>: 可以理解为响应时间, 有平均值, 标准偏差, 最大值, 正负一个标准差占比.<br><code>Req/Sec</code>: 每个线程每秒钟的完成的请求数, 同样有平均值, 标准偏差, 最大值, 正负一个标准差占比. </p>
<p>接着:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> 5073 requests in 30.09s, 75.28MB read  </div><div class="line">  Socket errors: connect 0, read 5, write 0, timeout 64  </div><div class="line">Requests/sec:    168.59  </div><div class="line">Transfer/sec:      2.50MB</div></pre></td></tr></table></figure></p>
<p>0秒钟总共完成请求数和读取数据量.<br>然后是错误统计, 上面的统计可以看到, 5个读错误, 64个超时.<br>然后是所以线程总共平均每秒钟完成168个请求. 每秒钟读取2.5兆数据量. </p>
<p>可以看到, 相对于专业性能测试工具. wrk 的统计信息是非常简单的. 但是这些信息基本上足够我们判断系统是否有问题了. </p>
<p>wrk 默认超时时间是1秒. 这个有点短. 我一般设置为30秒. 这个看上去合理一点.<br>如果这样执行命令: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/wrk -t12 -c100 -d30s -T30s http://www.baidu.com</div></pre></td></tr></table></figure>
<p><code>--latency</code>想看看响应时间的分布情况可以加上<code>--latency</code>参数: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wrk -t12 -c100 -d30s -T30s --latency http://www.baidu.com</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">Running 30s test @ http://www.baidu.com  </div><div class="line">  12 threads and 100 connections  </div><div class="line">  Thread Stats   Avg      Stdev     Max   +/- Stdev  </div><div class="line">    Latency     1.22s     1.88s   17.59s    89.70%  </div><div class="line">    Req/Sec    14.47      9.92    98.00     77.06%  </div><div class="line">  Latency Distribution  </div><div class="line">     50%  522.18ms  </div><div class="line">     75%    1.17s  </div><div class="line">     90%    3.22s  </div><div class="line">     99%    8.87s  </div><div class="line">  3887 requests in 30.09s, 57.82MB read  </div><div class="line">  Socket errors: connect 0, read 2, write 0, timeout 0  </div><div class="line">Requests/sec:    129.19  </div><div class="line">Transfer/sec:      1.92MB</div></pre></td></tr></table></figure>
<p>可以看到50%在0.5秒以内, %75在1.2s 以内. 看上去还不错. </p>
<p>看到这里可能有人会说了, HTTP 请求不会总是这么简单的, 通常我们会有 POST,GET 等多个 method, 会有 Header, 会有 body 等. </p>
<p>#Lua脚本<br>需要修改 method, header, body,等时就需要使用lua脚本了<br>首先创建一个 <code>post.lua</code> 的文件: </p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">wrk.method = <span class="string">"POST"</span>  </div><div class="line">wrk.body   = <span class="string">"foo=bar&amp;baz=quux"</span>  </div><div class="line">wrk.headers[<span class="string">"Content-Type"</span>] = <span class="string">"application/x-www-form-urlencoded"</span></div></pre></td></tr></table></figure>
<p>然后发送请求</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wrk -t12 -c100 -d30s -T30s --script=post.lua --latency http://www.baidu.com</div></pre></td></tr></table></figure>
<p>wrk的对象属性</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">local</span> wrk = &#123;  </div><div class="line">   scheme  = <span class="string">"http"</span>,  </div><div class="line">   host    = <span class="string">"localhost"</span>,  </div><div class="line">   port    = <span class="keyword">nil</span>,  </div><div class="line">   method  = <span class="string">"GET"</span>,  </div><div class="line">   path    = <span class="string">"/"</span>,  </div><div class="line">   headers = &#123;&#125;,  </div><div class="line">   body    = <span class="keyword">nil</span>,  </div><div class="line">   thread  = <span class="keyword">nil</span>,  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>wrk 提供的几个 lua 的 hook 函数:<br><code>setup 函数</code><br>这个函数在目标 IP 地址已经解析完, 并且所有 thread 已经生成, 但是还没有开始时被调用. 每个线程执行一次这个函数.<br>可以通过thread:get(name),  thread:set(name, value)设置线程级别的变量. </p>
<p><code>init 函数</code><br>每次请求发送之前被调用.<br>可以接受 wrk 命令行的额外参数. 通过 – 指定. </p>
<p><code>delay函数</code><br>这个函数返回一个数值, 在这次请求执行完以后延迟多长时间执行下一个请求. 可以对应 thinking time 的场景. </p>
<p><code>request函数</code><br>通过这个函数可以每次请求之前修改本次请求的属性. 返回一个字符串. 这个函数要慎用, 会影响测试端性能. </p>
<p>一个完整的例子:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">local</span> counter = <span class="number">1</span>  </div><div class="line"><span class="keyword">local</span> threads = &#123;&#125;  </div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setup</span><span class="params">(thread)</span></span>  </div><div class="line">   thread:set(<span class="string">"id"</span>, counter)  </div><div class="line">   <span class="built_in">table</span>.insert(threads, thread)  </div><div class="line">   counter = counter + <span class="number">1</span>  </div><div class="line"><span class="keyword">end</span>  </div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span><span class="params">(args)</span></span>  </div><div class="line">   requests  = <span class="number">0</span>  </div><div class="line">   responses = <span class="number">0</span>  </div><div class="line">  </div><div class="line">   <span class="keyword">local</span> msg = <span class="string">"thread %d created"</span>  </div><div class="line">   <span class="built_in">print</span>(msg:format(id))  </div><div class="line"><span class="keyword">end</span>  </div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">request</span><span class="params">()</span></span>  </div><div class="line">   requests = requests + <span class="number">1</span>  </div><div class="line">   <span class="keyword">return</span> wrk.request()  </div><div class="line"><span class="keyword">end</span>  </div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">response</span><span class="params">(status, headers, body)</span></span>  </div><div class="line">   responses = responses + <span class="number">1</span>  </div><div class="line"><span class="keyword">end</span>  </div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">done</span><span class="params">(summary, latency, requests)</span></span>  </div><div class="line">   <span class="keyword">for</span> index, thread <span class="keyword">in</span> <span class="built_in">ipairs</span>(threads) <span class="keyword">do</span>  </div><div class="line">      <span class="keyword">local</span> id        = thread:get(<span class="string">"id"</span>)  </div><div class="line">      <span class="keyword">local</span> requests  = thread:get(<span class="string">"requests"</span>)  </div><div class="line">      <span class="keyword">local</span> responses = thread:get(<span class="string">"responses"</span>)  </div><div class="line">      <span class="keyword">local</span> msg = <span class="string">"thread %d made %d requests and got %d responses"</span>  </div><div class="line">      <span class="built_in">print</span>(msg:format(id, requests, responses))  </div><div class="line">   <span class="keyword">end</span>  </div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>#jmeter</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/07/11/服务器/2016-07-11-WRK好用的网络压测工具/" data-id="civ9p6tfu001e24nnrk00pxjs" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/wrk-压测-http/">wrk, 压测, http</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-服务器/2016-06-21-linux抓包工具tcpdump使用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/06/21/服务器/2016-06-21-linux抓包工具tcpdump使用/" class="article-date">
  <time datetime="2016-06-21T09:42:51.000Z" itemprop="datePublished">2016-06-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/21/服务器/2016-06-21-linux抓包工具tcpdump使用/">linux抓包工具tcpdump使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tcpdump host 10.0.97.72  and \( port 8080 or 8088 \) -A -vv &gt;&gt;out2.txt</div></pre></td></tr></table></figure>
<p><code>host</code> 需要监控的ip, 目前即本机ip<br><code>port</code> 需要监控的port, 目前tomcat的端口<br><code>-A</code> 以ASCII格式打印出所有分组，并将链路层的头最小化。<br><code>-vv</code> 输出信息的详细程度, 还可以是<code>-v</code>, <code>-vvv</code><br><code>&gt;&gt;out2.txt</code> 输出到文件out2.txt中</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/06/21/服务器/2016-06-21-linux抓包工具tcpdump使用/" data-id="civ9p6tfm001724nnnh5s0bej" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux-tcpdump/">linux, tcpdump</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-iOS/2016-05-16-IBAction inside UITableViewCell not called in iOS 9" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/16/iOS/2016-05-16-IBAction inside UITableViewCell not called in iOS 9/" class="article-date">
  <time datetime="2016-05-16T01:50:00.000Z" itemprop="datePublished">2016-05-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/16/iOS/2016-05-16-IBAction inside UITableViewCell not called in iOS 9/">IBAction inside UITableViewCell not called in iOS 9</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#<br>在UITableViewCell中通过IBAction添加UIButton的点击事件的时候, 无效.</p>
<blockquote>
<p>I figured out the solution, hopefully this answer will save someone else the time.</p>
<p>I inherited this code base and it had some issues. The UITableViewCell’s that were not working under iOS 9 were not using UITableViewCell nibs w/ a ContentView. Instead, someone had created a UIView nib and then pointed it to a custom UITableViewCell subclass. The nibs did not have a ContentView and apparently iOS 9 is a little more picky about that. This implementation worked fine under iOS 8 and there were no compiler or runtime errors or warnings.</p>
<p>The solution was to create a new UITableViewCell subclass and let Xcode auto create the nib for it. Then I copied over all of the UI and code from the old nib and pasted it into the ContentView of the new nib. I then had to fix up the constraints and rewire the connections to the custom subclass.</p>
</blockquote>
<p><strong><em>所以在tableviewcell中添加button还是使用代码添加吧</em></strong></p>
<p><a href="http://stackoverflow.com/questions/32705171/ibaction-inside-uitableviewcell-not-called-in-ios-9" target="_blank" rel="external">IBAction inside UITableViewCell not called in iOS 9</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/05/16/iOS/2016-05-16-IBAction inside UITableViewCell not called in iOS 9/" data-id="civ9p6teh000824nnglsmlxrh" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android/2016-05-16" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/16/Android/2016-05-16/" class="article-date">
  <time datetime="2016-05-16T01:49:53.000Z" itemprop="datePublished">2016-05-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/16/Android/2016-05-16/">Android 用户行为日志记录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<p>##背景<br>记录应用中用户的一些操作信息log, 可以像<code>Log.d()</code>, <code>Log.i()</code>这样记录log, 然后将这些记录保存到sd卡中, 供开发查看</p>
<p>##初步设计<br>所有输出的log都先放到临时内存中, 当该内存达到一定的阀值比如<code>10k</code>之后, 再将其持久化到sd卡</p>
<p>##问题分析</p>
<ol>
<li>多个线程同时写入内存时, 如何保证不会错乱</li>
<li>保证写入线程不会被block</li>
<li>当达到阀值后, 需要取内存数据持久化, 此时如果又有新log, 如何协调存取</li>
</ol>
<p>由于缓存区只是单纯的存储log, 所以自然的想到直接使用<code>StringBuffer</code>来存储, 由于<code>StringBuffer</code>是线程安全的, <code>append</code>的顺序决定于他所调用的次序, 所以<code>问题1</code>也就解决了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/05/16/Android/2016-05-16/" data-id="civ9p6tff000z24nn3t78iyu5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-Mac-NDK/">Android, Mac, NDK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-gradle/">Android, gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-gradle-Jcenter/">Android, gradle, Jcenter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-优化/">Android, 优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-热部署/">Android, 热部署</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5/">HTML5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-EventBus-通信/">React, EventBus, 通信</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Realm-RxJava/">Realm, RxJava</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RxJava/">RxJava</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5/">html5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5鉴赏/">html5鉴赏</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-React/">javascript, React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-React-gulp/">javascript, React, gulp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-React-二级菜单/">javascript, React, 二级菜单</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-开源社区-网络备忘-csnd/">javascript, 开源社区, 网络备忘, csnd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jekyll/">jekyll</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jqyery/">jqyery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux-tcpdump/">linux, tcpdump</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wrk-压测-http/">wrk, 压测, http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分享/">分享</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端框架/">前端框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客升级/">博客升级</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动开发/">移动开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网页设计/">网页设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/项目/">项目</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/项目-命名规范/">项目,命名规范</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Android-Mac-NDK/" style="font-size: 10px;">Android, Mac, NDK</a> <a href="/tags/Android-gradle/" style="font-size: 13.33px;">Android, gradle</a> <a href="/tags/Android-gradle-Jcenter/" style="font-size: 10px;">Android, gradle, Jcenter</a> <a href="/tags/Android-优化/" style="font-size: 10px;">Android, 优化</a> <a href="/tags/Android-热部署/" style="font-size: 10px;">Android, 热部署</a> <a href="/tags/HTML5/" style="font-size: 10px;">HTML5</a> <a href="/tags/JavaScript/" style="font-size: 13.33px;">JavaScript</a> <a href="/tags/React/" style="font-size: 16.67px;">React</a> <a href="/tags/React-EventBus-通信/" style="font-size: 10px;">React, EventBus, 通信</a> <a href="/tags/Realm-RxJava/" style="font-size: 10px;">Realm, RxJava</a> <a href="/tags/RxJava/" style="font-size: 13.33px;">RxJava</a> <a href="/tags/android/" style="font-size: 10px;">android</a> <a href="/tags/html5/" style="font-size: 10px;">html5</a> <a href="/tags/html5鉴赏/" style="font-size: 10px;">html5鉴赏</a> <a href="/tags/iOS/" style="font-size: 10px;">iOS</a> <a href="/tags/javascript-React/" style="font-size: 10px;">javascript, React</a> <a href="/tags/javascript-React-gulp/" style="font-size: 10px;">javascript, React, gulp</a> <a href="/tags/javascript-React-二级菜单/" style="font-size: 10px;">javascript, React, 二级菜单</a> <a href="/tags/javascript-开源社区-网络备忘-csnd/" style="font-size: 10px;">javascript, 开源社区, 网络备忘, csnd</a> <a href="/tags/jekyll/" style="font-size: 13.33px;">jekyll</a> <a href="/tags/jqyery/" style="font-size: 13.33px;">jqyery</a> <a href="/tags/linux-tcpdump/" style="font-size: 10px;">linux, tcpdump</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/wrk-压测-http/" style="font-size: 10px;">wrk, 压测, http</a> <a href="/tags/分享/" style="font-size: 10px;">分享</a> <a href="/tags/前端框架/" style="font-size: 10px;">前端框架</a> <a href="/tags/博客升级/" style="font-size: 13.33px;">博客升级</a> <a href="/tags/移动开发/" style="font-size: 10px;">移动开发</a> <a href="/tags/网页设计/" style="font-size: 10px;">网页设计</a> <a href="/tags/项目/" style="font-size: 10px;">项目</a> <a href="/tags/项目-命名规范/" style="font-size: 10px;">项目,命名规范</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/11/07/杂记/2016-11-07-blog架构换型/">blog架构换型</a>
          </li>
        
          <li>
            <a href="/2016/11/06/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2016/11/06/Android/2016-11-06-Android与Java的一些方法的不同/">Android与Java的一些方法的不同</a>
          </li>
        
          <li>
            <a href="/2016/11/02/Android/2016-11-02-2017计划实现的技术点/">计划技术点规划</a>
          </li>
        
          <li>
            <a href="/2016/10/13/杂记/2016-10-13-简历(Android模板)/">Android程序员简历模板</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Lou Jiwei<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>