---
layout:         post
title:          node安装问题
description:    node安装中碰到的问题
tags:           nodejs
keywords:       nodejs
noToc: 			  true
---

```
  g++ -pthread -rdynamic -m64 -fuse-ld=gold -B/opt/tools/node-v4.2.6/third_party/binutils/Linux_x64/Release/bin -m64  -o /opt/tools/node-v4.2.6/out/Release/mksnapshot -Wl,--start-group /opt/tools/node-v4.2.6/out/Release/obj.target/mksnapshot/deps/v8/src/snapshot/mksnapshot.o /opt/tools/node-v4.2.6/out/Release/obj.target/deps/v8/tools/gyp/libv8_base.a /opt/tools/node-v4.2.6/out/Release/obj.target/deps/v8/tools/gyp/libv8_nosnapshot.a /opt/tools/node-v4.2.6/out/Release/obj.target/deps/v8/tools/gyp/libv8_libplatform.a /opt/tools/node-v4.2.6/out/Release/obj.target/deps/v8/tools/gyp/libv8_libbase.a -Wl,--end-group -ldl -lrt
collect2: fatal error: cannot find 'ld'
```

解决:
`/.configure --without-snapshot`


升级gcc到4.8 参考[这里](http://lonelyprogram.blog.51cto.com/6246243/1355261)



问题:
```
[root@iZ946bj64guZ opt]# node
node: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.15' not found (required by node)
```

```

[david@localhost programmer]$ strings /usr/lib64/libstdc++.so.6|grep GLIBCXX
GLIBCXX_3.4
GLIBCXX_3.4.1
GLIBCXX_3.4.2
GLIBCXX_3.4.3
GLIBCXX_3.4.4
GLIBCXX_3.4.5
GLIBCXX_3.4.6
GLIBCXX_3.4.7
GLIBCXX_3.4.8
GLIBCXX_3.4.9
GLIBCXX_3.4.10
GLIBCXX_3.4.11
GLIBCXX_3.4.12
GLIBCXX_3.4.13
GLIBCXX_FORCE_NEW
GLIBCXX_DEBUG_MESSAGE_LENGTH
```
最高到了3.4.13，没有3.4.15版.

我是自己从源代码编译的gcc 4.8.2，应该是sudo make install没有抓到这个包.

在网上搜了搜，参考这篇文章：http://stackoverflow.com/questions/5216399/usr-lib-libstdc-so-6-version-glibcxx-3-4-15-not-found，把问题解决了：

1.在当时make的目录下找到如下文件：

gcc-build-4.8.2/x86_64-unknown-linux-gnu/libstdc++-v3/src/.libs/libstdc++.so.6.0.18,



strings libstdc++.so.6.0.18| strings /usr/lib64/libstdc++.so.6|grep GLIBCXX

GLIBCXX_3.4
GLIBCXX_3.4.1
GLIBCXX_3.4.2
GLIBCXX_3.4.3
GLIBCXX_3.4.4
GLIBCXX_3.4.5
GLIBCXX_3.4.6
GLIBCXX_3.4.7
GLIBCXX_3.4.8
GLIBCXX_3.4.9
GLIBCXX_3.4.10
GLIBCXX_3.4.11
GLIBCXX_3.4.12
GLIBCXX_3.4.13
GLIBCXX_3.4.14
GLIBCXX_3.4.15
GLIBCXX_3.4.16
GLIBCXX_3.4.17
GLIBCXX_3.4.18
GLIBCXX_3.4.19
GLIBCXX_FORCE_NEW
GLIBCXX_DEBUG_MESSAGE_LENGTH



包括了.15，应该可以！

把该文件拷贝到了/usr/lib64下.

然后将libstdc++.so.6指向libstdc++.so.6.0.18:

[root@localhost lib64]# rm -r libstdc++.so.6
rm: remove symbolic link `libstdc++.so.6'? y
[root@localhost lib64]# ln -s libstdc++.so.6.0.18 libstdc++.so.6

再次运行程序就好使了！



