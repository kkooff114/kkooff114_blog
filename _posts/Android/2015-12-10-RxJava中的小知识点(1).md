---
layout:         post
title:          RxJava中的小知识点(1)
description:    记录学习RxJava中的小知识点
tags:           RxJava
keywords:       RxJava
noToc: 			  true
---

[TOC]

#Schedulers
`Schedulers.immediate()` : 默认的, 在当前线程下立即执行.

`Schedulers.trampoline()`: 将被观察者所生产出来的数据丢到一个队列中, 队列会依次执行其中的任务.

`Schedulers.newThread()`: 每次产生的数据, 每次都是在一个新线程中去执行

`Schedulers.computation()`:  用于CPU密集型任务来使用的, 应该是在线程池中选择一个线程.

`Schedulers.io()`: 用于IO密集型任务, 从线程池中选择一个线程, 这个线程池中的线程回收周期是60s, 有利于处理IO相关的任务.

`AndroidSchedulers.mainThread()`: 在主线程中运行处理任务.

#Subscriber
在 RxJava 的 subscribe 过程中，Observer 也总是会先被转换成一个 Subscriber 再使用。所以如果你只想使用基本功能，选择 Observer 和 Subscriber 是完全一样的。它们的区别对于使用者来说主要有两点：

1. `onStart()`: 在事件还未发送前调用, 所发生的线程在Subscriber所在的线程, 如果要在指定的线程来做准备工作,可以使用`doOnSubscribe()`方法.
2. `unsubscribe()`: 用于取消订阅, 一般在这个方法调用前，可以使用 `isUnsubscribed()` 先判断一下状态。 `unsubscribe()` 这个方法很重要，因为在 `subscribe()` 之后， Observable 会持有 Subscriber 的引用，这个引用如果不能及时被释放，将有内存泄露的风险。所以最好保持一个原则：要在不再使用的时候尽快在合适的地方（例如 `onPause()` `onStop()` 等方法中）调用 `unsubscribe()` 来解除引用关系，***以避免内存泄露的发生***。

