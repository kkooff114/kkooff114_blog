<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>kkooff144`blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="kkooff144`blog">
<meta property="og:url" content="http://blog.loujiwei.cn/page/3/index.html">
<meta property="og:site_name" content="kkooff144`blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="kkooff144`blog">
  
    <link rel="alternate" href="/atom.xml" title="kkooff144`blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">kkooff144`blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.loujiwei.cn"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-工具软件/2016-01-12-Commit Message格式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/12/工具软件/2016-01-12-Commit Message格式/" class="article-date">
  <time datetime="2016-01-12T14:08:41.000Z" itemprop="datePublished">2016-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>layout:         post<br>title:          Commit Message格式<br>description:    git commit -m 的书写格式, 当然也适用于svn<br>tags:           git<br>keywords:       git</p>
<h2 id="noToc-true"><a href="#noToc-true" class="headerlink" title="noToc:               true"></a>noToc:               true</h2><p>[TOC]</p>
<p>#概要</p>
<blockquote>
<p>每次提交，Commit message 都包括三个部分：<code>Header</code>，<code>Body</code> 和 <code>Footer</code>。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;// 空一行&lt;body&gt;// 空一行&lt;footer&gt;</div></pre></td></tr></table></figure>
<p>其中，<strong>Header 是必需的</strong>，Body 和 Footer 可以省略。</p>
<p>不管是哪一个部分，任何一行都不得超过72个字符（或100个字符）。这是为了避免自动换行影响美观。</p>
<p>#Header</p>
<p>Header部分只有一行，包括三个字段：<code>type</code>（必需）、<code>scope</code>（可选）和<code>subject</code>（必需）。</p>
<p>##type</p>
<p><code>type</code>用于说明 commit 的类别，只允许使用下面7个标识。</p>
<ul>
<li>feat：新功能（feature）</li>
<li>fix：修补bug</li>
<li>docs：文档（documentation）</li>
<li>style： 格式（不影响代码运行的变动）</li>
<li>refactor：重构（即不是新增功能，也不是修改bug的代码变动）</li>
<li>test：增加测试</li>
<li>chore：构建过程或辅助工具的变动<br>如果type为feat和fix，则该 commit 将肯定出现在 Change log 之中。其他情况（docs、chore、style、refactor、test）由你决定，要不要放入 Change log，建议是不要。</li>
</ul>
<p>##scope</p>
<p><code>scope</code>用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。</p>
<p>##subject</p>
<p><code>subject</code>是 commit 目的的简短描述，不超过50个字符。</p>
<ul>
<li>以动词开头，使用第一人称现在时，比如change，而不是changed或changes</li>
<li>第一个字母小写</li>
<li>结尾不加句号（.）</li>
</ul>
<p>#Body</p>
<p><code>Body</code> 部分是对本次 commit 的详细描述，可以分成多行。下面是一个范例。</p>
<blockquote>
<p>More detailed explanatory text, if necessary.  Wrap it to<br>about 72 characters or so. Further paragraphs come after blank lines.- Bullet points are okay, too- Use a hanging indent<br>有两个注意点。</p>
</blockquote>
<ol>
<li><p>使用第一人称现在时，比如使用change而不是changed或changes。</p>
</li>
<li><p>应该说明代码变动的动机，以及与以前行为的对比。</p>
</li>
</ol>
<p>#Footer</p>
<p><code>Footer</code> 部分只用于两种情况。</p>
<ol>
<li>不兼容变动</li>
</ol>
<p>如果当前代码与上一个版本不兼容，则 Footer 部分以BREAKING CHANGE开头，后面是对变动的描述、以及变动理由和迁移方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">BREAKING CHANGE: isolate scope bindings definition has changed.</div><div class="line"> </div><div class="line">    To migrate the code follow the example below:</div><div class="line"> </div><div class="line">    Before:</div><div class="line"> </div><div class="line">    scope: &#123;</div><div class="line">      myAttr: &apos;attribute&apos;,</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    After:</div><div class="line"> </div><div class="line">    scope: &#123;</div><div class="line">      myAttr: &apos;@&apos;,</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    The removed `inject` wasn&apos;t generaly useful for directives so there should be no code using it.</div></pre></td></tr></table></figure>
<ol>
<li>关闭 Issue</li>
</ol>
<p>如果当前 commit 针对某个issue，那么可以在 Footer 部分关闭这个 issue 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Closes #234</div></pre></td></tr></table></figure>
<p>也可以一次关闭多个 issue 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Closes #123, #245, #992</div></pre></td></tr></table></figure>
<p>#Revert</p>
<p>还有一种特殊情况，如果当前 commit 用于撤销以前的 commit，则必须以<code>revert:</code>开头，后面跟着被撤销 Commit 的 Header。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">revert: feat(pencil): add &apos;graphiteWidth&apos; option</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">This reverts commit 667ecc1654a317a13331b17617d973392f415f02.</div></pre></td></tr></table></figure>
<p>Body部分的格式是固定的，必须写成This reverts commit &lt;hash&gt;.，其中的hash是被撤销 commit 的 SHA 标识符。</p>
<p>如果当前 commit 与被撤销的 commit，在同一个发布（release）里面，那么它们都不会出现在 Change log 里面。如果两者在不同的发布，那么当前 commit，会出现在 Change log 的Reverts小标题下面。</p>
<p>#参考:<br><a href="http://www.oschina.net/news/69705/git-commit-message-and-changelog-guide?from=20160110" target="_blank" rel="external">Git 提交的正确姿势：Commit message 编写指南</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/01/12/工具软件/2016-01-12-Commit Message格式/" data-id="civ9p6ted000524nn2oibkq3g" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android/2016-01-04-上传依赖库到Jcenter" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/04/Android/2016-01-04-上传依赖库到Jcenter/" class="article-date">
  <time datetime="2016-01-04T14:54:00.000Z" itemprop="datePublished">2016-01-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/04/Android/2016-01-04-上传依赖库到Jcenter/">上传依赖库到Jcenter</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<p>#注册Jcenter账号<br>官网地址: <a href="https://bintray.com/" target="_blank" rel="external">https://bintray.com/</a><br>自行注册</p>
<p>#项目配置</p>
<p>##Step1: 项目根build.gradle<br>在项目根build.gradle中添加<br><code>Gradle &gt;= 2.1</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">plugins &#123;</div><div class="line">    id &quot;com.jfrog.bintray&quot; version &quot;1.4&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>Gradle &lt; 2.1</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">buildscript &#123;</div><div class="line">    repositories &#123;</div><div class="line">        jcenter()</div><div class="line">    &#125;</div><div class="line">    dependencies &#123;</div><div class="line">        classpath &apos;com.jfrog.bintray.gradle:gradle-bintray-plugin:1.4&apos;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">apply plugin: &apos;com.jfrog.bintray&apos;</div></pre></td></tr></table></figure>
<p>我gradle的版本是<code>1.5.0</code>, 所以我添加完大概长这个样子:</p>
<p><img src="/media/14519204995360.jpg" alt=""></p>
<p>同步Sync, 成功!</p>
<p>##Step2: 配置user, key</p>
<p>###方式一:gradle.properties(好像不行, 回头有时间研究下!)<br><img src="/media/14519221074529.jpg" alt=""></p>
<p>在module的build.gradle中就可以通过<code>project.property(&#39;bintrayUser&#39;)</code>这种方式来访问</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">bintray &#123;</div><div class="line">    user = project.property(&apos;bintrayUser&apos;)</div><div class="line">    key = project.property(&apos;bintrayKey&apos;)</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>###方式二:local.properties<br><img src="/media/14689242075547.jpg" alt=""></p>
<p>在module的build.gradle中就可以通过<code>System.getenv(&#39;BINTRAY_USER&#39;)</code>这种方式来访问</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">bintray &#123;</div><div class="line">    user = System.getenv(&apos;BINTRAY_USER&apos;)</div><div class="line">    key = System.getenv(&apos;BINTRAY_KEY&apos;)</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>##Step3: 增加package的一些信息到<code>bintray</code>闭包中<br><strong>必填:</strong></p>
<ol>
<li>repo - existing repository in bintray to add the artifacts to (for 2. example: ‘generic’, ‘maven’ etc)</li>
<li>name - package name</li>
<li>licenses - your package licenses</li>
<li>vcsUrl - your VCS URL</li>
</ol>
<p><strong>可选:</strong></p>
<ol>
<li>userOrg – an optional organization name when the repo belongs to one of the user’s orgs. If not added will use ‘BINTRAY_USER’ by default</li>
</ol>
<p>所以我的<code>bintray</code>长这样子:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">def siteUrl = &apos;http://blog.loujiwei.cn&apos;   // 项目的主页</div><div class="line">def gitUrl = &apos;git@github.com:kkooff114/HotFit.git&apos;   // Git仓库的url</div><div class="line"></div><div class="line">bintray &#123;   </div><div class="line">    user = System.getenv(&apos;BINTRAY_USER&apos;)</div><div class="line">    key = System.getenv(&apos;BINTRAY_KEY&apos;)</div><div class="line">    pkg &#123;</div><div class="line">        repo = &apos;maven&apos;</div><div class="line">        name = &apos;cn.loujiwei.android&apos;</div><div class="line">        licenses = [&apos;Apache-2.0&apos;]</div><div class="line">        vcsUrl = gitUrl</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>##Step4: 增加Version 信息到<code>pkg</code>闭包中<br><strong>必选</strong></p>
<ol>
<li>name - Version name</li>
</ol>
<p><strong>可选</strong></p>
<ol>
<li>desc - Version description</li>
<li>released - Date of the version release. Can accept one of the following formats:</li>
<li>Date in the format of ‘yyyy-MM-dd’T’HH:mm:ss.SSSZZ’</li>
<li>java.util.Date instance</li>
<li>vcsTag - Version control tag name</li>
<li>attributes - Attributes to be attached to the version</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">bintray &#123;</div><div class="line">    user = System.getenv(&apos;BINTRAY_USER&apos;)</div><div class="line">    key = System.getenv(&apos;BINTRAY_KEY&apos;)</div><div class="line">    pkg &#123;</div><div class="line">        repo = &apos;maven&apos;</div><div class="line">        name = &apos;cn.loujiwei.android&apos;</div><div class="line">        licenses = [&apos;Apache-2.0&apos;]</div><div class="line">        vcsUrl = gitUrl</div><div class="line"></div><div class="line">        version &#123;</div><div class="line">            name = &apos;1.0.0&apos;</div><div class="line">            desc = &apos;Android Hot Fit Plugin&apos;</div><div class="line">            released  = new Date()</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>##Step5: 设置artifacts<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">publishing &#123;</div><div class="line">    publications &#123;</div><div class="line">        mavenJava(MavenPublication) &#123;</div><div class="line">            from components.java</div><div class="line">            artifact sourcesJar</div><div class="line">            artifact javadocJar</div><div class="line">            groupId &apos;cn.loujiwei.android&apos;</div><div class="line">            artifactId &apos;hotfit&apos;</div><div class="line">            version versionName</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bintray &#123;</div><div class="line">    user = System.getenv(&apos;BINTRAY_USER&apos;)</div><div class="line">    key = System.getenv(&apos;BINTRAY_KEY&apos;)</div><div class="line"></div><div class="line">    publications = [&apos;mavenJava&apos;]</div><div class="line"></div><div class="line">   ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>##最终内容<br>根build.gradle</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">// Top-level build file where you can add configuration options common to all sub-projects/modules.</div><div class="line"></div><div class="line">buildscript &#123;</div><div class="line">    repositories &#123;</div><div class="line">        jcenter()</div><div class="line">    &#125;</div><div class="line">    dependencies &#123;</div><div class="line">        classpath &apos;com.android.tools.build:gradle:1.5.0&apos;</div><div class="line">        classpath &apos;com.jfrog.bintray.gradle:gradle-bintray-plugin:1.4&apos;</div><div class="line">        classpath &apos;com.github.dcendents:android-maven-gradle-plugin:1.3&apos;</div><div class="line">        // NOTE: Do not place your application dependencies here; they belong</div><div class="line">        // in the individual module build.gradle files</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">allprojects &#123;</div><div class="line">    repositories &#123;</div><div class="line">        jcenter()</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">task clean(type: Delete) &#123;</div><div class="line">    delete rootProject.buildDir</div><div class="line">&#125;</div><div class="line"></div><div class="line">//apply plugin: &apos;com.jfrog.bintray&apos;</div></pre></td></tr></table></figure>
<p>app build.gradle</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div></pre></td><td class="code"><pre><div class="line">apply plugin: &apos;com.android.library&apos;</div><div class="line">apply plugin: &apos;com.github.dcendents.android-maven&apos;</div><div class="line">apply plugin: &apos;com.jfrog.bintray&apos;</div><div class="line"></div><div class="line">def versionName = &quot;1.0.0&quot; //插件版本</div><div class="line">def siteUrl = &apos;http://blog.loujiwei.cn&apos;   // 项目的主页</div><div class="line">def gitUrl = &apos;git@github.com:kkooff114/HotFit.git&apos;   // Git仓库的url</div><div class="line"></div><div class="line"></div><div class="line">android &#123;</div><div class="line">    compileSdkVersion 23</div><div class="line">    buildToolsVersion &quot;23.0.0&quot;</div><div class="line"></div><div class="line">    defaultConfig &#123;</div><div class="line">        minSdkVersion 15</div><div class="line">        targetSdkVersion 23</div><div class="line">        versionCode 1</div><div class="line">//        versionName &quot;1.0&quot;</div><div class="line">    &#125;</div><div class="line">    buildTypes &#123;</div><div class="line">        release &#123;</div><div class="line">            minifyEnabled false</div><div class="line">            proguardFiles getDefaultProguardFile(&apos;proguard-android.txt&apos;), &apos;proguard-rules.pro&apos;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">group = &quot;cn.loujiwei.android&quot;</div><div class="line">install &#123;</div><div class="line">    repositories.mavenInstaller &#123;</div><div class="line">        // This generates POM.xml with proper parameters</div><div class="line">        pom &#123;</div><div class="line">            project &#123;</div><div class="line">                packaging &apos;aar&apos;</div><div class="line">                // Add your description here</div><div class="line">                name &apos;Android Hot Fit&apos;     //项目的描述 你可以多写一点</div><div class="line">                url siteUrl</div><div class="line">                // Set your license</div><div class="line">                licenses &#123;</div><div class="line">                    license &#123;</div><div class="line">                        name &apos;The Apache Software License, Version 2.0&apos;</div><div class="line">                        url &apos;http://www.apache.org/licenses/LICENSE-2.0.txt&apos;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                developers &#123;</div><div class="line">                    developer &#123;</div><div class="line">                        id &apos;kkooff114&apos;        //填写的一些基本信息</div><div class="line">                        name &apos;loujiwei&apos;</div><div class="line">                        email &apos;kkooff114@gmail.com&apos;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                scm &#123;</div><div class="line">                    connection gitUrl</div><div class="line">                    developerConnection gitUrl</div><div class="line">                    url siteUrl</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">task sourcesJar(type: Jar) &#123;</div><div class="line">    from android.sourceSets.main.java.srcDirs</div><div class="line">    classifier = &apos;sources&apos;</div><div class="line">&#125;</div><div class="line">task javadoc(type: Javadoc) &#123;</div><div class="line">    source = android.sourceSets.main.java.srcDirs</div><div class="line">    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))</div><div class="line">&#125;</div><div class="line">task javadocJar(type: Jar, dependsOn: javadoc) &#123;</div><div class="line">    classifier = &apos;javadoc&apos;</div><div class="line">    from javadoc.destinationDir</div><div class="line">&#125;</div><div class="line">artifacts &#123;</div><div class="line">    archives javadocJar</div><div class="line">    archives sourcesJar</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">bintray &#123;</div><div class="line">    user = &apos;xxxxx&apos;//project.property(&apos;bintrayUser&apos;)//System.getenv(&apos;BINTRAY_USER&apos;)</div><div class="line">    key = &apos;xxxxx&apos;//project.property(&apos;bintrayApiKey&apos;)//System.getenv(&apos;BINTRAY_KEY&apos;)</div><div class="line">    configurations = [&apos;archives&apos;]</div><div class="line">    pkg &#123;</div><div class="line">        repo = &apos;maven&apos;</div><div class="line">        name = &apos;HotFit&apos;</div><div class="line">        licenses = [&apos;Apache-2.0&apos;]</div><div class="line">        vcsUrl = gitUrl</div><div class="line"></div><div class="line">        version &#123;</div><div class="line">            name = &apos;1.0.0&apos;</div><div class="line">            desc = &apos;Android Hot Fit Plugin&apos;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/01/04/Android/2016-01-04-上传依赖库到Jcenter/" data-id="civ9p6tf4000r24nn1hcwe9gr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android-gradle-Jcenter/">Android, gradle, Jcenter</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android/2016-01-03-Nuwa项目的使用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/03/Android/2016-01-03-Nuwa项目的使用/" class="article-date">
  <time datetime="2016-01-03T09:42:09.000Z" itemprop="datePublished">2016-01-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/03/Android/2016-01-03-Nuwa项目的使用/">Nuwa项目的使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<p>#Usage</p>
<p>##导入</p>
<ol>
<li>在项目根build.gradle中添加:</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">buildscript &#123;</div><div class="line">    repositories &#123;</div><div class="line">        jcenter()</div><div class="line">    &#125;</div><div class="line">    dependencies &#123;</div><div class="line">        classpath &apos;com.android.tools.build:gradle:1.2.3&apos;</div><div class="line">        classpath &apos;cn.jiajixin.nuwa:gradle:1.2.2&apos;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>注意: 这里gradle需要使用1.2.3版本</strong><br>自己使用了1.5.0的版本或者往上的版本会报错: <code>Error:Cannot get property &#39;taskDependencies&#39; on null object</code></p>
<ol>
<li>在app的build.gradle最上面添加:</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">apply plugin: &quot;cn.jiajixin.nuwa&quot;</div></pre></td></tr></table></figure>
<p>然后再添加依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">dependencies &#123;</div><div class="line">    compile fileTree(dir: &apos;libs&apos;, include: [&apos;*.jar&apos;])</div><div class="line">    testCompile &apos;junit:junit:4.12&apos;</div><div class="line">    compile &apos;com.android.support:appcompat-v7:23.0.1&apos;</div><div class="line">    compile &apos;com.android.support:design:23.0.1&apos;</div><div class="line">    compile &apos;cn.jiajixin.nuwa:nuwa:1.0.0&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>##使用</p>
<ol>
<li>自定义Application类,并在<code>attachBaseContext()</code>中添加</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BaseApplication</span> <span class="keyword">extends</span> <span class="title">Application</span> </span>&#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">attachBaseContext</span><span class="params">(Context base)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.attachBaseContext(base);</div><div class="line">        Nuwa.init(<span class="keyword">this</span>);</div><div class="line">        Nuwa.loadPatch(<span class="keyword">this</span>, <span class="string">"/sdcard/patch.jar"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ol>
<li>运行并安装apk，会在<code>app/build/outputs/</code>目录下自动生成一个叫<code>nuwa</code>的目录：</li>
</ol>
<p><img src="/media/14518197949458.jpg" alt=""></p>
<p>将其拷贝到其他目录下,比如<code>/Users/***/Desktop/nuwa</code></p>
<ol>
<li>然后假设修改一下代码, 改一个bug, 重新部署一下</li>
<li>部署完成后, 在项目根目录下执行</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./gradlew clean nuwaDebugPatch -P NuwaDir=/Users/***/Desktop/nuwa</div></pre></td></tr></table></figure>
<p>这个时候就会在<code>app/build/outputs/nuwa/debug/</code>目录下会自动生成<code>patch.jar</code>文件<br><img src="/media/14518200581827.jpg" alt=""></p>
<ol>
<li>这个patch.jar就是需要发布的补丁包, 我们先把他放到sdcard中</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">adb push app/build/outputs/nuwa/debug/patch.jar /sdcard/</div></pre></td></tr></table></figure>
<p>这个时候重启app, 就会显示修复完成的样子</p>
<p>#代码混淆<br>在proguard-rules.pro中添加：</p>
<p>-keep class cn.jiajixin.nuwa.* { ; }</p>
<p>#参考<br><a href="https://github.com/jasonross/Nuwa" target="_blank" rel="external">Nuwa github地址</a><br><a href="https://github.com/jasonross/NuwaGradle" target="_blank" rel="external">Nuwa gradle github地址</a><br><a href="http://www.jianshu.com/p/72c17fb76f21" target="_blank" rel="external">基于Nuwa实现Android自动化HotFix</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2016/01/03/Android/2016-01-03-Nuwa项目的使用/" data-id="civ9p6tf9000u24nn75hl415o" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android-gradle/">Android, gradle</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android/2015-12-25-gradle学习" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/25/Android/2015-12-25-gradle学习/" class="article-date">
  <time datetime="2015-12-25T14:12:48.000Z" itemprop="datePublished">2015-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/25/Android/2015-12-25-gradle学习/">Gradle学习</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#创建task</p>
<p>##基础<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">task hello &lt;&lt; &#123;</div><div class="line">    println <span class="string">'Hello world!'</span></div><div class="line">&#125;</div><div class="line">hello.doFirst &#123;</div><div class="line">    println <span class="string">'Hello Venus'</span></div><div class="line">&#125;</div><div class="line">hello.doLast &#123;</div><div class="line">    println <span class="string">'Hello Mars'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>以上定义了一个叫做hello的任务, 任务是一个可执行的<code>闭包</code><br>其中<code>&lt;&lt;</code>可以替换成<code>doLast</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">task hello &#123;</div><div class="line">    doLast &#123;</div><div class="line">        println <span class="string">'Hello world!'</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>最终输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Hello Venus</div><div class="line">Hello world!</div><div class="line">Hello Mars</div></pre></td></tr></table></figure>
<p>##在 Gradle 任务里使用 Groovy<br>例子1:<br>build.gradle</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">task upper &lt;&lt; &#123;</div><div class="line">    String someString = <span class="string">'mY_nAmE'</span></div><div class="line">    println <span class="string">"Original: "</span> + someString</div><div class="line">    println <span class="string">"Upper case: "</span> + someString.toUpperCase()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>cd到build.gradl路径下<code>gradle -q upper</code> 命令的输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; gradle -q upper</div><div class="line">Original: mY_nAmE</div><div class="line">Upper case: MY_NAME</div></pre></td></tr></table></figure>
<p>例子2:<br>build.gradle</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">task count &lt;&lt; &#123;</div><div class="line">    <span class="number">4</span>.times &#123; print <span class="string">"$it "</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>cd到build.gradl路径下<code>gradle -q upper</code> 命令的输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; gradle -q count</div><div class="line">0 1 2 3</div></pre></td></tr></table></figure>
<p>##任务依赖<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">task hello &lt;&lt; &#123;</div><div class="line">    println <span class="string">'Hello world!'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">task <span class="title">intro</span><span class="params">(dependsOn: hello)</span> &lt;&lt; </span>&#123;</div><div class="line">    println <span class="string">"I'm Gradle"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 如果有多个任务需要被依赖</span></div><div class="line"><span class="function">task <span class="title">intro</span><span class="params">(dependsOn: [hello1, hello2])</span> &lt;&lt; </span>&#123;</div><div class="line">    println <span class="string">"I'm Gradle"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">gradle -q intro 命令的输出</div><div class="line"></div><div class="line">```java</div><div class="line">&gt; gradle -q intro</div><div class="line">Hello world!</div><div class="line">I&apos;m Gradle</div></pre></td></tr></table></figure>
<p>任务intro依赖任务hello, 所以限制性hello, 再执行intro.</p>
<p>#内置属性</p>
<p>##操纵任务<br>普通的Java工程有一个有限的任务集合，这些任务相互配合创建一个输出。 classes 是一个编译Java源代码的任务。 在build.gradle中通过脚本访问和使用classes任务是很简单的。可以通过project.tasks.classes快捷访问。</p>
<p>对于Android工程来说就比较复杂了，因为可能有很多相同的任务，他们的名字是基于 Build Types和Product Flavors 生成的。</p>
<p>为了解决这个问题， android 对象提供了两个属性：</p>
<ul>
<li>applicationVariants (仅仅适用于app plugin)</li>
<li>libraryVariants (仅仅适用于library plugin)</li>
<li>testVariants (两种plugin都适用)<br>ApplicationVariant, LibraryVariant, and TestVariant这三个对象都会分别返回一个DomainObjectCollection。</li>
</ul>
<p>请注意访问这些集合中的任何一个都会触发生成所有的创建。这意味着访问这些集合后无须重新配置就会产生。</p>
<p>DomainObjectCollection允许直接的访问所有对象，或者通过更为方便的过滤器访问。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">android.applicationVariants.each &#123; variant -&gt;</div><div class="line">    ....</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="/media/14522425746549.jpg" alt=""><br><img src="/media/14522425883559.jpg" alt=""><br><img src="/media/14522426056403.jpg" alt=""><br><img src="/media/14522426176157.jpg" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2015/12/25/Android/2015-12-25-gradle学习/" data-id="civ9p6teu000m24nn65dv28iy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android-gradle/">Android, gradle</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-网页前端/2015-12-22-React组件间通信-EventBus的使用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/22/网页前端/2015-12-22-React组件间通信-EventBus的使用/" class="article-date">
  <time datetime="2015-12-21T16:07:33.000Z" itemprop="datePublished">2015-12-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/22/网页前端/2015-12-22-React组件间通信-EventBus的使用/">React组件间通信-EventBus的使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<p>#前言<br>在React由于数据的单项流动性, 组件间通信不能很好的被支持, 通信共分为<code>父子</code>, <code>子父</code>, <code>组件间</code></p>
<p>#父子<br>此方式直接通过props的方式来传递信息</p>
<p>#子父<br>还是通过props,将父的函数传给子, 在此函数中, 实现修改父的参数, 这样在子调用函数的时候, 即子向父通信.</p>
<p>#组件间<br>这是本文的重点, 综合起来,使用EventBus的思想是最简单的<br>案例:<br><img src="/media/14517926018451.jpg" alt=""><br>在GoodsName中选择商品的数量, 在GoodsToolBar中点击添加购物车按钮的时候, 需获取到GoodsName中商品的数量</p>
<p>GoodsToolBar.js:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> goodsNum = &#123;<span class="string">"type"</span>:<span class="string">"goodsSelectedNum"</span>,<span class="string">"target"</span>:<span class="number">0</span>&#125;;<span class="comment">//EventBus传过来的对象, 有type,target,可能还有args这几个字段</span></div><div class="line"></div><div class="line"><span class="comment">// 回调触发的函数, 接受GoodsName传过来得参数</span></div><div class="line"><span class="keyword">var</span> goodsSelectedNum= <span class="function"><span class="keyword">function</span> (<span class="params">nums</span>)</span>&#123;</div><div class="line">    goodsNum = nums;</div><div class="line"> &#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> GoodsToolBar = React.createClass(&#123;</div><div class="line"></div><div class="line">    <span class="attr">getInitialState</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">num</span>: <span class="number">0</span></div><div class="line">        &#125;;</div><div class="line">    &#125;,</div><div class="line"></div><div class="line">    <span class="attr">componentDidMount</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    		<span class="comment">//注册监听, 第一个参数是key值,第二个参数是回调函数</span></div><div class="line">        EventBus.addEventListener(<span class="string">"goodsSelectedNum"</span>, goodsSelectedNum)</div><div class="line">    &#125;,</div><div class="line">    </div><div class="line">    <span class="keyword">return</span>(</div><div class="line">    	...</div><div class="line">    )</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>GoodsName.js:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"> addNum: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">     <span class="keyword">var</span> n = <span class="keyword">this</span>.state.num +<span class="number">1</span>;</div><div class="line">     <span class="keyword">this</span>.setState(&#123;<span class="attr">num</span>: n&#125;);</div><div class="line"></div><div class="line"><span class="comment">//分发事件, 第一个参数是key值, 第二个是传过去的target, 这里当args使用</span></div><div class="line">     EventBus.dispatch(<span class="string">"goodsSelectedNum"</span>, n);</div><div class="line"> &#125;,</div><div class="line"></div><div class="line"> <span class="attr">reduceNum</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">     <span class="keyword">var</span> n = <span class="keyword">this</span>.state.num <span class="number">-1</span>;</div><div class="line">     <span class="keyword">if</span>(n&lt;<span class="number">0</span>)&#123;</div><div class="line">         n =<span class="number">0</span>;</div><div class="line">     &#125;</div><div class="line">     <span class="keyword">this</span>.setState(&#123;<span class="attr">num</span>: n&#125;);</div><div class="line">     </div><div class="line"><span class="comment">//分发事件, 第一个参数是key值, 第二个是传过去的target, 这里当args使用</span></div><div class="line">     EventBus.dispatch(<span class="string">"goodsSelectedNum"</span>, <span class="keyword">this</span>.state.num);</div><div class="line"> &#125;,</div></pre></td></tr></table></figure>
<p>分发事件的时候dispatch一共有三个参数<code>type</code>, <code>target</code>, <code>args ...</code>, 如果写了第三个参数, 后面使用JSON.stringify会序列化失败, 所以这里可以直接将参数当成targget中传过去, 反正也不影响, 传过去就行.</p>
<p>#附录</p>
<p>###EventBus API:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">// adds event listener</div><div class="line">// @type - string</div><div class="line">// @callback - function</div><div class="line">// @scope - the scope where the @callback is defined</div><div class="line">EventBus.addEventListener(type, callback, scope)</div><div class="line"></div><div class="line">// removes event listener</div><div class="line">// @type - string</div><div class="line">// @callback - function</div><div class="line">// @scope - the scope where the @callback is defined</div><div class="line">EventBus.removeEventListener(type, callback, scope)</div><div class="line"></div><div class="line">// checks for listener</div><div class="line">// @type - string</div><div class="line">// @callback - function</div><div class="line">// @scope - the scope where the @callback is defined</div><div class="line">EventBus.hasEventListener(type, callback, scope)</div><div class="line"></div><div class="line">// dispatch an event</div><div class="line">// @type - string</div><div class="line">// @target - the caller</div><div class="line">// @args - pass as many arguments as you want</div><div class="line">EventBus.dispatch(type, target, args ...)</div><div class="line"></div><div class="line">// for debugging purpose, it just prints out the added listeners</div><div class="line">EventBus.getEvents()</div></pre></td></tr></table></figure></p>
<p>###EventBus源码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> EventBusClass = &#123;&#125;;</div><div class="line">EventBusClass = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">this</span>.listeners = &#123;&#125;;</div><div class="line">&#125;;</div><div class="line">EventBusClass.prototype = &#123;</div><div class="line">	<span class="attr">addEventListener</span>:<span class="function"><span class="keyword">function</span>(<span class="params">type, callback, scope</span>) </span>&#123;</div><div class="line">		<span class="keyword">var</span> args = [];</div><div class="line">		<span class="keyword">var</span> numOfArgs = <span class="built_in">arguments</span>.length;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;numOfArgs; i++)&#123;</div><div class="line">			args.push(<span class="built_in">arguments</span>[i]);</div><div class="line">		&#125;		</div><div class="line">		args = args.length &gt; <span class="number">3</span> ? args.splice(<span class="number">3</span>, args.length<span class="number">-1</span>) : [];</div><div class="line">		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="keyword">this</span>.listeners[type] != <span class="string">"undefined"</span>) &#123;</div><div class="line">			<span class="keyword">this</span>.listeners[type].push(&#123;<span class="attr">scope</span>:scope, <span class="attr">callback</span>:callback, <span class="attr">args</span>:args&#125;);</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			<span class="keyword">this</span>.listeners[type] = [&#123;<span class="attr">scope</span>:scope, <span class="attr">callback</span>:callback, <span class="attr">args</span>:args&#125;];</div><div class="line">		&#125;</div><div class="line">	&#125;,</div><div class="line">	<span class="attr">removeEventListener</span>:<span class="function"><span class="keyword">function</span>(<span class="params">type, callback, scope</span>) </span>&#123;</div><div class="line">		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="keyword">this</span>.listeners[type] != <span class="string">"undefined"</span>) &#123;</div><div class="line">			<span class="keyword">var</span> numOfCallbacks = <span class="keyword">this</span>.listeners[type].length;</div><div class="line">			<span class="keyword">var</span> newArray = [];</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;numOfCallbacks; i++) &#123;</div><div class="line">				<span class="keyword">var</span> listener = <span class="keyword">this</span>.listeners[type][i];</div><div class="line">				<span class="keyword">if</span>(listener.scope == scope &amp;&amp; listener.callback == callback) &#123;</div><div class="line">					</div><div class="line">				&#125; <span class="keyword">else</span> &#123;</div><div class="line">					newArray.push(listener);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">this</span>.listeners[type] = newArray;</div><div class="line">		&#125;</div><div class="line">	&#125;,</div><div class="line">	<span class="attr">hasEventListener</span>:<span class="function"><span class="keyword">function</span>(<span class="params">type, callback, scope</span>) </span>&#123;</div><div class="line">		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="keyword">this</span>.listeners[type] != <span class="string">"undefined"</span>) &#123;</div><div class="line">			<span class="keyword">var</span> numOfCallbacks = <span class="keyword">this</span>.listeners[type].length;</div><div class="line">			<span class="keyword">if</span>(callback === <span class="literal">undefined</span> &amp;&amp; scope === <span class="literal">undefined</span>)&#123;</div><div class="line">				<span class="keyword">return</span> numOfCallbacks &gt; <span class="number">0</span>;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;numOfCallbacks; i++) &#123;</div><div class="line">				<span class="keyword">var</span> listener = <span class="keyword">this</span>.listeners[type][i];</div><div class="line">				<span class="keyword">if</span>((scope ? listener.scope == scope : <span class="literal">true</span>) &amp;&amp; listener.callback == callback) &#123;</div><div class="line">					<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	&#125;,</div><div class="line">	<span class="attr">dispatch</span>:<span class="function"><span class="keyword">function</span>(<span class="params">type, target</span>) </span>&#123;</div><div class="line">		<span class="keyword">var</span> numOfListeners = <span class="number">0</span>;</div><div class="line">		<span class="keyword">var</span> event = &#123;</div><div class="line">			<span class="attr">type</span>:type,</div><div class="line">			<span class="attr">target</span>:target</div><div class="line">		&#125;;</div><div class="line">		<span class="keyword">var</span> args = [];</div><div class="line">		<span class="keyword">var</span> numOfArgs = <span class="built_in">arguments</span>.length;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;numOfArgs; i++)&#123;</div><div class="line">			args.push(<span class="built_in">arguments</span>[i]);</div><div class="line">		&#125;;				</div><div class="line">		args = args.length &gt; <span class="number">2</span> ? args.splice(<span class="number">2</span>, args.length<span class="number">-1</span>) : [];</div><div class="line">		args = [event].concat(args);</div><div class="line">		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="keyword">this</span>.listeners[type] != <span class="string">"undefined"</span>) &#123;</div><div class="line">			<span class="keyword">var</span> numOfCallbacks = <span class="keyword">this</span>.listeners[type].length;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;numOfCallbacks; i++) &#123;</div><div class="line">				<span class="keyword">var</span> listener = <span class="keyword">this</span>.listeners[type][i];</div><div class="line">				<span class="keyword">if</span>(listener &amp;&amp; listener.callback) &#123;					</div><div class="line">					<span class="keyword">var</span> concatArgs = args.concat(listener.args);</div><div class="line">					listener.callback.apply(listener.scope, concatArgs);</div><div class="line">					numOfListeners += <span class="number">1</span>;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;,</div><div class="line">	<span class="attr">getEvents</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">var</span> str = <span class="string">""</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">var</span> type <span class="keyword">in</span> <span class="keyword">this</span>.listeners) &#123;</div><div class="line">			<span class="keyword">var</span> numOfCallbacks = <span class="keyword">this</span>.listeners[type].length;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;numOfCallbacks; i++) &#123;</div><div class="line">				<span class="keyword">var</span> listener = <span class="keyword">this</span>.listeners[type][i];</div><div class="line">				str += listener.scope &amp;&amp; listener.scope.className ? listener.scope.className : <span class="string">"anonymous"</span>;</div><div class="line">				str += <span class="string">" listen for '"</span> + type + <span class="string">"'\n"</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> str;</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> EventBus = <span class="keyword">new</span> EventBusClass();</div></pre></td></tr></table></figure>
<p>参考:<br><a href="https://github.com/krasimir/EventBus" target="_blank" rel="external">EventBus github地址</a></p>
<p><a href="http://www.alloyteam.com/2015/07/react-zu-jian-jian-tong-xin/" target="_blank" rel="external">AlloyTeam blog React组件间通信</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2015/12/22/网页前端/2015-12-22-React组件间通信-EventBus的使用/" data-id="civ9p6thf002v24nn6xgkb9z4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-EventBus-通信/">React, EventBus, 通信</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android/2015-12-19-Android热部署方案" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/19/Android/2015-12-19-Android热部署方案/" class="article-date">
  <time datetime="2015-12-19T15:58:46.000Z" itemprop="datePublished">2015-12-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/19/Android/2015-12-19-Android热部署方案/">Android热部署方案</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#原理<br>参考下面两篇文章可以总结:</p>
<ol>
<li>动态改变BaseDexClassLoader对象间接引用的dexElements；</li>
<li>在app打包的时候，阻止相关类去打上CLASS_ISPREVERIFIED标志。</li>
</ol>
<p>#实现</p>
<p>##防止CLASS_ISPREVERIFIED打上true</p>
<p>###ASM</p>
<p>###Javassist</p>
<blockquote>
<p>Javassist 使您可以检查、编辑以及创建 Java 二进制类。检查方面基本上与通过 Reflection API 直接在 Java 中进行的一样，但是当想要修改类而不只是执行它们时，则另一种访问这些信息的方法就很有用了。这是因为 JVM 设计上并没有提供在类装载到 JVM 中后访问原始类数据的任何方法，这项工作需要在 JVM 之外完成。<br><a href="http://www.ibm.com/developerworks/cn/java/j-dyn0916/" target="_blank" rel="external">Java 编程的动态性</a></p>
</blockquote>
<p>阻止类打上<code>CLASS_ISPREVERIFIED</code>标志就需要使用Javassist</p>
<p>#参考<br><a href="http://my.oschina.net/853294317/blog/308583" target="_blank" rel="external">Android dex分包方案</a></p>
<p><a href="https://mp.weixin.qq.com/s?__biz=MzI1MTA1MzM2Nw==&amp;mid=400118620&amp;idx=1&amp;sn=b4fdd5055731290eef12ad0d17f39d4a&amp;scene=1&amp;srcid=1106Imu9ZgwybID13e7y2nEi#wechat_redirect" target="_blank" rel="external">安卓App热补丁动态修复技术介绍</a></p>
<p><a href="http://blog.csdn.net/lmj623565791/article/details/49883661" target="_blank" rel="external"> Android 热补丁动态修复框架小结</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2015/12/19/Android/2015-12-19-Android热部署方案/" data-id="civ9p6teq000h24nnopjvbyk0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android-热部署/">Android, 热部署</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android/2015-12-19-Mac下Android NDK开发环境安装与配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/19/Android/2015-12-19-Mac下Android NDK开发环境安装与配置/" class="article-date">
  <time datetime="2015-12-19T11:23:25.000Z" itemprop="datePublished">2015-12-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/19/Android/2015-12-19-Mac下Android NDK开发环境安装与配置/">Mac下Android NDK开发环境安装与配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#下载NDK<br>首先到Google官网下载: <a href="http://developer.android.com/ndk/downloads/index.html" target="_blank" rel="external">NDK</a><br>选择: Mac OS X 64-bit版本</p>
<p>下载完成后:</p>
<ol>
<li>用terminal cd到刚刚下载的文件路径下</li>
<li>执行<code>chmod a+x</code>命令</li>
<li>开始解压</li>
</ol>
<p>完整命令如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">LJW$ chmod a+x android-ndk-r10c-darwin-x86_64.bin</div><div class="line">LJW$ ./android-ndk-r10c-darwin-x86_64.bin</div></pre></td></tr></table></figure>
<p>#AndroidStudio中配置路径<br>在项目根路径的<code>gradle.properties</code>中添加:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ndk.path=/Users/LJW/Documents/local/android-ndk-r10e</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2015/12/19/Android/2015-12-19-Mac下Android NDK开发环境安装与配置/" data-id="civ9p6tes000k24nnbn6al0ok" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android-Mac-NDK/">Android, Mac, NDK</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-杂记/2015-12-18-Realm终于支持RxJava了!!" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/18/杂记/2015-12-18-Realm终于支持RxJava了!!/" class="article-date">
  <time datetime="2015-12-17T16:32:28.000Z" itemprop="datePublished">2015-12-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/18/杂记/2015-12-18-Realm终于支持RxJava了!!/">Realm终于官方支持RxJava</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>真是感动天, 感动地, 前一秒还在苦思Realm如何更好的支持RxJava, 不一会儿大神竟然官方支持了! 爽!</p>
<p>##赶紧试用体验!</p>
<p><img src="/media/14503699691320.jpg" alt=""></p>
<p><img src="/media/14503699943227.jpg" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2015/12/18/杂记/2015-12-18-Realm终于支持RxJava了!!/" data-id="civ9p6tgm002824nnmx2umh4l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Realm-RxJava/">Realm, RxJava</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-工具软件/2015-12-11-VIM快捷键" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/11/工具软件/2015-12-11-VIM快捷键/" class="article-date">
  <time datetime="2015-12-11T02:42:37.000Z" itemprop="datePublished">2015-12-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/11/工具软件/2015-12-11-VIM快捷键/">VIM快捷键</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#插入</p>
<p>###基础<br><code>i</code>: 在光标之前插入<br><code>a</code>: 在光标之后追加</p>
<p>###进阶<br>行位置插入<br><code>A</code>: 在一行的结尾处追加<br><code>I</code>: 在一行的开头处插入<br><code>o</code>: 在光标所在位置的下一行打开新行插入<br><code>O</code>: 在光标所在位置的上一行打开新行插入</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2015/12/11/工具软件/2015-12-11-VIM快捷键/" data-id="civ9p6tea000424nnk8v21a0h" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vim/">vim</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android/2015-12-10-RxJava中的小知识点(1)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/10/Android/2015-12-10-RxJava中的小知识点(1)/" class="article-date">
  <time datetime="2015-12-10T11:49:00.000Z" itemprop="datePublished">2015-12-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/10/Android/2015-12-10-RxJava中的小知识点(1)/">RxJava中的小知识点(1)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<p>#Schedulers<br><code>Schedulers.immediate()</code> : 默认的, 在当前线程下立即执行.</p>
<p><code>Schedulers.trampoline()</code>: 将被观察者所生产出来的数据丢到一个队列中, 队列会依次执行其中的任务,能够有效避免StackOverflowError，所以非常适合函数的递归调用.</p>
<p><code>Schedulers.newThread()</code>: 每次产生的数据, 每次都是在一个新线程中去执行</p>
<p><code>Schedulers.computation()</code>:  用于CPU密集型任务来使用的,比如计算, 应该是在线程池中选择一个线程.</p>
<p><code>Schedulers.io()</code>: 用于IO密集型任务, 从线程池中选择一个线程, 这个线程池中的线程回收周期是60s, 有利于处理IO相关的任务.</p>
<p><code>AndroidSchedulers.mainThread()</code>: 在主线程中运行处理任务.</p>
<p>#Subscriber<br>在 RxJava 的 subscribe 过程中，Observer 也总是会先被转换成一个 Subscriber 再使用。所以如果你只想使用基本功能，选择 Observer 和 Subscriber 是完全一样的。它们的区别对于使用者来说主要有两点：</p>
<ol>
<li><code>onStart()</code>: 在事件还未发送前调用, 所发生的线程在Subscriber所在的线程, 如果要在指定的线程来做准备工作,可以使用<code>doOnSubscribe()</code>方法.</li>
<li><code>unsubscribe()</code>: 用于取消订阅, 一般在这个方法调用前，可以使用 <code>isUnsubscribed()</code> 先判断一下状态。 <code>unsubscribe()</code> 这个方法很重要，因为在 <code>subscribe()</code> 之后， Observable 会持有 Subscriber 的引用，这个引用如果不能及时被释放，将有内存泄露的风险。所以最好保持一个原则：要在不再使用的时候尽快在合适的地方（例如 <code>onPause()</code> <code>onStop()</code> 等方法中）调用 <code>unsubscribe()</code> 来解除引用关系，<strong><em>以避免内存泄露的发生</em></strong>。</li>
</ol>
<p>#配合retrofit的问题</p>
<p>##问题一</p>
<blockquote>
<p>java.lang.IllegalArgumentException: Unable to create call adapter for rx.Observable<string>  </string></p>
</blockquote>
<p>依赖包添加:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">compile &apos;com.squareup.retrofit:adapter-rxjava:2.0.0-beta2&apos;</div></pre></td></tr></table></figure>
<p>并修改代码<code>.addCallAdapterFactory(RxJavaCallAdapterFactory.create())</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Retrofit retrofit = new Retrofit.Builder()  </div><div class="line">                        .baseUrl(ENDPOINT)  </div><div class="line">                        .addConverterFactory(GsonConverterFactory.create())  </div><div class="line">                        .addCallAdapterFactory(RxJavaCallAdapterFactory.create())  </div><div class="line">                        .build();</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.loujiwei.cn/2015/12/10/Android/2015-12-10-RxJava中的小知识点(1)/" data-id="civ9p6teo000f24nnlacrb4d6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RxJava/">RxJava</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/4/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-Mac-NDK/">Android, Mac, NDK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-gradle/">Android, gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-gradle-Jcenter/">Android, gradle, Jcenter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-优化/">Android, 优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android-热部署/">Android, 热部署</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5/">HTML5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-EventBus-通信/">React, EventBus, 通信</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Realm-RxJava/">Realm, RxJava</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RxJava/">RxJava</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5/">html5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5鉴赏/">html5鉴赏</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-React/">javascript, React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-React-gulp/">javascript, React, gulp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-React-二级菜单/">javascript, React, 二级菜单</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-开源社区-网络备忘-csnd/">javascript, 开源社区, 网络备忘, csnd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jekyll/">jekyll</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jqyery/">jqyery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux-tcpdump/">linux, tcpdump</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wrk-压测-http/">wrk, 压测, http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分享/">分享</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端框架/">前端框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客升级/">博客升级</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动开发/">移动开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网页设计/">网页设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/项目/">项目</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/项目-命名规范/">项目,命名规范</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Android-Mac-NDK/" style="font-size: 10px;">Android, Mac, NDK</a> <a href="/tags/Android-gradle/" style="font-size: 13.33px;">Android, gradle</a> <a href="/tags/Android-gradle-Jcenter/" style="font-size: 10px;">Android, gradle, Jcenter</a> <a href="/tags/Android-优化/" style="font-size: 10px;">Android, 优化</a> <a href="/tags/Android-热部署/" style="font-size: 10px;">Android, 热部署</a> <a href="/tags/HTML5/" style="font-size: 10px;">HTML5</a> <a href="/tags/JavaScript/" style="font-size: 13.33px;">JavaScript</a> <a href="/tags/React/" style="font-size: 16.67px;">React</a> <a href="/tags/React-EventBus-通信/" style="font-size: 10px;">React, EventBus, 通信</a> <a href="/tags/Realm-RxJava/" style="font-size: 10px;">Realm, RxJava</a> <a href="/tags/RxJava/" style="font-size: 13.33px;">RxJava</a> <a href="/tags/android/" style="font-size: 10px;">android</a> <a href="/tags/html5/" style="font-size: 10px;">html5</a> <a href="/tags/html5鉴赏/" style="font-size: 10px;">html5鉴赏</a> <a href="/tags/iOS/" style="font-size: 10px;">iOS</a> <a href="/tags/javascript-React/" style="font-size: 10px;">javascript, React</a> <a href="/tags/javascript-React-gulp/" style="font-size: 10px;">javascript, React, gulp</a> <a href="/tags/javascript-React-二级菜单/" style="font-size: 10px;">javascript, React, 二级菜单</a> <a href="/tags/javascript-开源社区-网络备忘-csnd/" style="font-size: 10px;">javascript, 开源社区, 网络备忘, csnd</a> <a href="/tags/jekyll/" style="font-size: 13.33px;">jekyll</a> <a href="/tags/jqyery/" style="font-size: 13.33px;">jqyery</a> <a href="/tags/linux-tcpdump/" style="font-size: 10px;">linux, tcpdump</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/wrk-压测-http/" style="font-size: 10px;">wrk, 压测, http</a> <a href="/tags/分享/" style="font-size: 10px;">分享</a> <a href="/tags/前端框架/" style="font-size: 10px;">前端框架</a> <a href="/tags/博客升级/" style="font-size: 13.33px;">博客升级</a> <a href="/tags/移动开发/" style="font-size: 10px;">移动开发</a> <a href="/tags/网页设计/" style="font-size: 10px;">网页设计</a> <a href="/tags/项目/" style="font-size: 10px;">项目</a> <a href="/tags/项目-命名规范/" style="font-size: 10px;">项目,命名规范</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/11/07/杂记/2016-11-07-blog架构换型/">blog架构换型</a>
          </li>
        
          <li>
            <a href="/2016/11/06/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2016/11/06/Android/2016-11-06-Android与Java的一些方法的不同/">Android与Java的一些方法的不同</a>
          </li>
        
          <li>
            <a href="/2016/11/02/Android/2016-11-02-2017计划实现的技术点/">计划技术点规划</a>
          </li>
        
          <li>
            <a href="/2016/10/13/杂记/2016-10-13-简历(Android模板)/">Android程序员简历模板</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Lou Jiwei<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>