#销售助手升级SMP3.0计划v1.0

>目前销售助手敲定升级使用SMP3.0,说白了就是使用SMP来管理账号, 说不定最后账号管理也不用了,反正是使用了SMP3.0;具体如何升级, 怎样使用SMP,将在本篇中讨论

[TOC]

#方案比较

##方案一: 直接升级
###简述:
&emsp;&emsp;类似`五丰`那样, 将所有的MBO替换成本地数据库,建立一模一样的数据库表, 然后在登录的时候将类MBO表所有数据下载同步; 再将项目中原来的`MBO.findXX()`等MBO的查询方法换成新数据表格的`findXX()`方法; 这样实现替换.
	
###预估开发时间: 
&emsp;&emsp;2个月.

###开发准备:
* sap相关接口+webservice
* 简单中间件
* 销售助手业务逻辑详细清单
	
###评估:
开发风险: ★☆☆☆☆
上线安全: ★★☆☆☆
总推荐度: ★☆☆☆☆

由于只是单纯的替换MBO数据表格,所以理论上上线后,基本业务逻辑不会出问题,唯一可能出现的问题就是`数据同步`这块 可能会出现同步不成功, 某个数据表同步失败等问题;
开发的风险比较小, 因为只是单纯全局替换.

##方案二: 直接升级+逻辑轻度优化
###简述:
&emsp;&emsp;什么叫轻度优化? 在方案一的基础上将每个手机页面进行轻度重构, 重构包括以下几点:

* 重新梳理业务逻辑
* 重新梳理代码逻辑
* 保持代码大框架不变情况下,轻微调整*各个页面*的代码结构
* 调整一些晦涩的逻辑, 减少bug

###预估开发时间: 
&emsp;&emsp;2~3个月.

###开发准备:
* sap相关接口+webservice
* 简单中间件
* 销售助手业务逻辑详细清单
	
###评估:
开发风险: ★★☆☆☆
上线安全: ★★★☆☆
总推荐度: ★★★☆☆

在方案一的基础上重新优化了原来老代码的逻辑与结构, 所以理论上会比方案一更安全一级, 但是我们都知道, 既然有改动, 那肯定伴随着一些新的bug的出现, 所以方案二会在方案一可能出现的`上线问题`的基础上, 多一些其他页面逻辑的问题, 需要详细测试.


##方案三: 手机重建+中间件
###简述:
&emsp;&emsp;这个相当于在确定业务逻辑的情况下重新写销售助手+一个中间件程序,整体数据流逻辑可以参考MBO那套, 中间件必须要实现增量, 定时同步等功能.具体参考中间件一节.
* 重新梳理业务逻辑
* 整理原来代码逻辑(从代码层面便理清业务)
* 重新构建手机开发结构
* 调整一些晦涩的逻辑, 减少bug

###预估开发时间: 
&emsp;&emsp;3+个月.

###开发准备:
* sap相关接口+webservice
* nb中间件
* 手机重新架构
* 销售助手业务逻辑详细清单
	
###评估:
开发风险: ★★★★★
上线安全: ★★★★★
总推荐度: ★★★★☆

由于手机端和引入的中间件都是重新开发, 所以开发风险是最大的, 可能会碰到很到技术瓶颈, 开发周期无法把控等问题. *但是一旦开发完成后所带来的稳定性, 可拓展新与可维护性自然是不言而喻*.

##~~方案四: 不升级!!!~~
不可能了...

##方案总结
关于每个方案中的中间件复杂度可以是独立的, 包括一些增量更新, 定时同步等一些功能都是可选的, 这个可以到中间件一节中讨论


#中间件
##功能
- [ ]MBO增量更新
- [ ]中间件端增量更新
- [ ]中间件定时拉取sap数据
- [ ]定时校验SAP接口正确性, 形成报表

#Android
##功能
- [ ]手机端增量更新, 热部署
- [ ]定制日志上传
- [ ]bug跟踪日志上传
- [ ]
#测试






